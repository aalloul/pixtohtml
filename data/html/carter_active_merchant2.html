<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>carter_active_merchant2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>gateway = ActiveMerchant::Billing::TrustCommerceGateway.new(
            :login =&gt; &#39;TestMerchant&#39;,
            :password =&gt; &#39;password&#39;)

# ActiveMerchant accepts all amounts as Integer values in cents
amount = 1000  # $10.00

# The card verification value is also known as CVV2, CVC2, or CID 
credit_card = ActiveMerchant::Billing::CreditCard.new(
                :first_name         =&gt; &#39;Bob&#39;,
                :last_name          =&gt; &#39;Bobsen&#39;,
                :number             =&gt; &#39;4242424242424242&#39;,
                :month              =&gt; &#39;8&#39;,
                :year               =&gt; &#39;2012&#39;,
                :verification_value =&gt; &#39;123&#39;)

# Validating the card automatically detects the card type
if credit_card.valid?
  # Capture $10 from the credit card
  response = gateway.purchase(amount, credit_card)

  if response.success?
    puts &quot;Successfully charged $#{sprintf(&quot;%.2f&quot;, amount / 100)} to the credit card #{credit_card.display_number}&quot;
  else
    raise StandardError, response.message 
  end
end</code></pre>
<p>For more in-depth documentation and tutorials, see {file:GettingStarted.md} and the .</p>
<h2 id="supported-direct-payment-gateways">Supported Direct Payment Gateways</h2>
<p>The .</p>
<ul>
<li><ul>
<li>US</li>
</ul></li>
<li><ul>
<li>US</li>
</ul></li>
<li><ul>
<li>UK</li>
</ul></li>
<li><ul>
<li>CA</li>
</ul></li>
<li><ul>
<li>US</li>
</ul></li>
<li><ul>
<li>US</li>
</ul></li>
<li><ul>
<li>GB</li>
</ul></li>
<li><ul>
<li>US</li>
</ul></li>
<li><ul>
<li>GB</li>
</ul></li>
<li><ul>
<li>US</li>
</ul></li>
<li><ul>
<li>US, CA</li>
</ul></li>
<li><ul>
<li>DK, SE, NO</li>
</ul></li>
<li><ul>
<li>AU</li>
</ul></li>
<li><ul>
<li>CA, US</li>
</ul></li>
</ul>
</body>
</html>
