<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>eventmachine_evma_httpserver1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="eventmachine_httpserver">eventmachine_httpserver</h1>
<h2 id="emhttpserver-vs-thin">EM::HttpServer vs Thin</h2>
<pre><code> +careo | is there a 25 word version of how it differs from thin?
  +tmm1 | good question.. its probably faster, but only because it doesn&#39;t have a real http parser like thin
+wyhaines | It is faster.  It&#39;s more of an nginx style parser than the mongrel, grammar based parser.
 +careo | so perhaps a better fit for putting an http interface on top of a bunch of already-evented code?
+wyhaines | careo: It depends.  There are very valid arguments for using an RFC-compliant parser a lot of the time.
+wyhaines | But, yeah, sometimes being strictly RFC compliant isn&#39;t something that you care about.</code></pre>
<h2 id="installing">Installing</h2>
<h3 id="without-bundler">Without Bundler</h3>
<pre><code>sudo gem install eventmachine_httpserver</code></pre>
<h3 id="with-bundler">With bundler</h3>
<pre><code>gem &#39;eventmachine_httpserver&#39;, :require =&gt; &#39;evma_httpserver&#39;</code></pre>
<h2 id="usage-example">Usage example</h2>
<pre><code>require &#39;eventmachine&#39;
require &#39;evma_httpserver&#39;

class MyHttpServer &lt; EM::Connection
  include EM::HttpServer

   def post_init
     super
     no_environment_strings
   end

  def process_http_request
    # the http request details are available via the following instance variables:
    #   @http_protocol
    #   @http_request_method
    #   @http_cookie
    #   @http_if_none_match
    #   @http_content_type
    #   @http_path_info
    #   @http_request_uri
    #   @http_query_string
    #   @http_post_content
    #   @http_headers

    response = EM::DelegatedHttpResponse.new(self)
    response.status = 200
    response.content_type &#39;text/html&#39;
    response.content = &#39;&lt;center&gt;&lt;h1&gt;Hi there&lt;/h1&gt;&lt;/center&gt;&#39;
    response.send_response</code></pre>
</body>
</html>
