<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>akm_schema_comments2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>t.string   &quot;product_type_cd&quot;, :comment =&gt; &#39;種別コード&#39;
t.integer  &quot;price&quot;, :comment =&gt; &quot;価格&quot;
t.string   &quot;name&quot;, :comment =&gt; &quot;商品名&quot;
t.datetime &quot;created_at&quot;, :comment =&gt; &quot;登録日時&quot;
t.datetime &quot;updated_at&quot;, :comment =&gt; &quot;更新日時&quot;</code></pre>
<p>end end</p>
<pre><code>
コメントは以下のメソッドで使用することが可能です。
</code></pre>
<p>columns, create_table, drop_table, rename_table remove_column, add_column, change_column, rename_column</p>
<pre><code>

## コメントはどこに保存されるのか

db/schema_comments.yml にYAML形式で保存されます。
あまり推奨しませんが、もしマイグレーションにコメントを記述するのを忘れてしまった場合、db/schema_comments.yml
を直接編集した後、rake db:schema:dumpやマイグレーションを実行すると、db/schema.rbのコメントに反映されます。


## I18nへの対応

`schema_comments:i18n:update`タスクを実行すると、i18n用のYAMLを更新できます。
</code></pre>
<p>rake schema_comments:i18n:update</p>
<pre><code>
環境変数`LOCALE`で対象のロケールを指定可能ですが、指定されていなければ`I18n.locale`から取得します。

これは `config/application.rb` で以下のように指定可能です。
</code></pre>
<p>config.i18n.default_locale = :ja</p>
<pre><code>

また出力先のYAMLのPATHを指定したい場合、YAML_PATHで指定が可能です。
</code></pre>
<p>rake schema_comments:i18n:update LOCALE=ja YAML_PATH=/path/to/yaml ```</p>
<h2 id="mysqlのビュー">MySQLのビュー</h2>
<p>MySQLのビューを使用した場合、元々MySQLではSHOW TABLES でビューも表示してしまうため、</p>
</body>
</html>
