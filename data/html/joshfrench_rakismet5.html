<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>joshfrench_rakismet5</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>This will contain the last response from the Akismet server. In the case of <code>spam?</code> it should be <code>true</code> or <code>false.</code> For <code>spam!</code> and <code>ham!</code> it should be <code>Feedback received.</code> If Akismet returned an error instead (e.g. if you left out some required information) this will contain the error message.</p>
<h1 id="faq">FAQ</h1>
<h2 id="why-does-akismet-think-all-of-my-test-data-is-spam">Why does Akismet think all of my test data is spam?</h2>
<p>Akismet needs enough information to decide if your test data is spam or not. Try to supply as much as possible, especially the author name and request variables.</p>
<h2 id="how-can-i-simulate-a-spam-submission">How can I simulate a spam submission?</h2>
<p>Most people have the opposite problem, where Akismet doesn’t think anything is spam. The only guaranteed way to trigger a positive spam response is to set the comment author to “viagra-test-123”. To simulate a negative (not spam) result, set user_role to administrator, and all other required fields populated with typical values. The Akismet API will always return a false response.</p>
<p>If you’ve done this and <code>spam?</code> is still returning false, you’re probably missing the user IP or one of the key/url config variables. One way to check is to call <code>@comment.akismet_response</code>. If you are missing a required field or there was another error, this will hold the Akismet error message. If your comment was processed normally, this value will simply be <code>true</code> or <code>false</code>.</p>
<h2 id="can-i-use-rakismet-with-a-different-orm-or-framework">Can I use Rakismet with a different ORM or framework?</h2>
<p>Sure. Rakismet doesn’t care what your persistence layer is. It will work with Datamapper, a NoSQL store, or whatever next month’s DB flavor is.</p>
<p>Rakismet also has no dependencies on Rails or any of its components, and only uses a small Rack middleware object to do some of its magic. Depending on your framework, you may have to modify this slightly and/or manually place it in your stack.</p>
<p>You’ll also need to set a few config variables by hand. Instead of <code>config.rakismet.key</code>, <code>config.rakismet.url</code>, and <code>config.rakismet.host</code>, set these values directly with <code>Rakismet.key</code>, <code>Rakismet.url</code>, and <code>Rakismet.host</code>.</p>
<hr />
<p>If you have any implementation or usage questions, don’t hesitate to get in</p>
</body>
</html>
