<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>hutch_xamplr-pp1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="xamplr-pp-gem">xamplr-pp-gem</h1>
<h2 id="introduction">INTRODUCTION</h2>
<p>This is the Ruby version of the xampl pull parser, xamplr-pp. The class name is Xampl_PP.</p>
<p>Both pull parsers and SAX parsers are stream based – they parse the XML file bit by bit informing its client of interesting events as they are encountered. The whole XML document is not required to be in memory. The significant difference between pull parsers and SAX parsers is in where the ‘main loop’ is located: in the client for pull parsers, in the parser for SAX parsers. Clients call a method of the pull parser to get the next event. SAX parsers call methods of the client to notify it of events (so these are ‘push parsers’). You can pass the pull parser around as an argument, and is similar to IO objects.</p>
<p>As a way of illustrating the use of xamplr-pp a reasonably usable SAX-like parser (SAXish) is implemented as well. There is a saxdemo.rb file provided that provides statistics on the parsed XML file. It can be run using ‘make sax’ (look in the Makefile to see how it is used)</p>
<h2 id="status">STATUS</h2>
<p>xamplr-pp has been in production use in a SaaS content management system since about 2004. It is an integral component of xamplr. Unfortunately documentation is sparse.</p>
<p>xamplr-pp works using Ruby 1.9.1 on OS X and Linux. It has, in the past, worked under Ruby 1.6.7, 1.8.6, 1.8.7 on Linux and OS X. If it no longer does, it will be and easy fix – let me know.</p>
<p>The unit tests require Lapidary (remember that?). No idea if they still work.</p>
<p>xamplr-pp is not a validating parser, in fact, it doesn’t enforce some wellformedness rules. DOCTYPE definitions are passed intact to the client program. No attempt is made to extract any kind of entity definitions from the DOCTYPE. Clever use of the DOCTYPE event and the resolver method can relieve this problem.</p>
<p>Some attention has been paid to performance. It is reasonably quick, certainly on the fast side for pure ruby parsers.</p>
<h2 id="documentation">DOCUMENTATION</h2>
<p>There isn’t much. Fortunately, the API to xamplr-pp is very small and quite easy to understand.</p>
<p>It turns out to be quite easy to build a SAX-like parser from a</p>
</body>
</html>
