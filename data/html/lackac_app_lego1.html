<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>lackac_app_lego1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="app-lego">App LEGO</h1>
<p>These are modularized Rails application templates. The templates can be used on their own but more powerful app generation is possible through the <code>app_lego.rb</code> template.</p>
<h2 id="features">Features</h2>
<ul>
<li>modular structure</li>
<li>uses git, every module makes a separate commit</li>
<li>guiding questions or options through the LEGOS environment variable</li>
</ul>
<h1 id="usage">Usage</h1>
<p>The simplest way to use the template is to just provide the URL of <code>app_lego.rb</code> to the rails app generator and answer the questions.</p>
<pre><code>$ rails -m http://github.com/lackac/app_lego/raw/master/app_lego.rb my_app</code></pre>
<p>The options and modules can be passed in through the <code>LEGOS</code> environment variable. If this is set the generator won’t ask whether it should use braid and which modules it should use.</p>
<p>Listing all the available options and modules:</p>
<pre><code>$ LEGOS=&quot;braid,basic,rspec,haml,jquery,auth,couchdb,locale,misc&quot; rails -m http://github.com/lackac/app_lego/raw/master/app_lego.rb my_app</code></pre>
<h1 id="options">Options</h1>
<h2 id="braid">Braid</h2>
<p>App LEGO can use to manage vendor branches. If braid is selected all <code>plugin</code> calls will install through braid, but if it’s not <code>plugin</code> calls will use the default <code>script/plugin</code> installer.</p>
<h1 id="modules">Modules</h1>
<p>The <strong>basic</strong> module initializes the Rails application in a git repository, removes unnecessary files and directories, sets up <code>.gitignore</code> files and freezes Edge Rails.</p>
<p>The <strong>RSpec</strong> module remove the <code>test</code> directory and installs the plugins necessary for RSpec. It also runs the rspec generator.</p>
<p>The <strong>Haml</strong> module initializes the app for . Sass files for Compass are installed in <code>app/stylesheets</code> and it uses the Blueprint css library. Other modules take care of generating haml template files if haml was installed.</p>
<p>The <strong>jQuery</strong> module removes the default javascript files and installes jQuery, jQuery-UI and the jQuery Form plugin. The first two come with minified and full versions too.</p>
<p>The <strong>Auth</strong> module adds the AuthLogic gem and generates a UserSession model for it with an optional user model. The name of the user model and the user identifier can be given in the <code>USER_MODEL</code> and <code>USER_IDENT</code> environment variables.</p>
<p>The <strong>CouchDB</strong> module installs the plugin.</p>
<p>The <strong>locale</strong> module will download localization files from Sven Fuchs’ repository. The generator will ask for the list of the localizations the user wants, but it can be given through the <code>LOCALES</code> environment variable too. The list is comma separated, and where no extension is given <code>.yml</code> is assumed. The first locale in the list will be used as the default locale. Example:</p>
<pre><code>$ LOCALES=&#39;hu,de,nl.rb&#39; LEGOS=&#39;locale&#39; rails -m http://github.com/lackac/app_lego/raw/master/app_lego.rb my_app</code></pre>
<p>The locale module also checks for module specific localizations in <code>locales/</code> under the same path App LEGO was called from.</p>
<p>The <strong>misc</strong> module inserts miscellaneous files into the application. These include a basic <code>application_controller.rb</code>, some helpers, a basic layout with flashes taken care of and some initializers.</p>
</body>
</html>
