<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>bdimcheff_shinmun5</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h3 id="commenting-system">Commenting System</h3>
<p>Comments are stored as flat files and encoded as YAML objects. Each post has a corresponding comment file located at <code>comments/&lt;path to post&gt;</code>. So administration of comments is possible by editing the YAML file, which can be done on your local machine, as you can just pull the comments from your live server.</p>
<h3 id="deployment">Deployment</h3>
<p>Shinmun can server the blog straight from the git repository. So on your webserver initialize a new git repo like:</p>
<pre><code>$ cd /var/www
$ mkdir myblog
$ cd myblog
$ git init</code></pre>
<p>Now on your local machine, you add a new remote repository and push your blog to your server:</p>
<pre><code>$ cd ~/myblog
$ git remote add live ssh://myserver.com/var/www/myblog
$ git push live</code></pre>
<p>On your production server, you just need the rackup file <code>config.ru</code> to run the blog:</p>
<pre><code>$ git checkout config.ru</code></pre>
<p>Now you can run just a pure ruby server or something like Phusion Passenger. Anytime you want to publish a post on your blog, you just write, commit and finally push a post by:</p>
<pre><code>$ git commit -a -m &#39;new post&#39;
$ git push live</code></pre>
<h3 id="phusion-passenger">Phusion Passenger</h3>
<p>Shinmun is compatible with [Phusion Passenger][5]. Install Phusion Passenger as described in my [blog post][2].</p>
<p>Assuming that you are on a Debian or Ubuntu system, you can create a file named <code>/etc/apache2/sites-available/blog</code>:</p>
<pre><code>@@xml</code></pre>
</body>
</html>
