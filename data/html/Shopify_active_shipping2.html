<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Shopify_active_shipping2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>packages = [ ActiveShipping::Package.new(100, # 100 grams [93,10], # 93 cm long, 10 cm diameter cylinder: true), # cylinders have different volume calculations</p>
<p>ActiveShipping::Package.new(7.5 * 16, # 7.5 lbs, times 16 oz/lb. [15, 10, 4.5], # 15x10x4.5 inches units: :imperial) # not grams, not centimetres ]</p>
<p># You live in Beverly Hills, he lives in Ottawa origin = ActiveShipping::Location.new(country: ‘US’, state: ‘CA’, city: ‘Beverly Hills’, zip: ‘90210’)</p>
<p>destination = ActiveShipping::Location.new(country: ‘CA’, province: ‘ON’, city: ‘Ottawa’, postal_code: ‘K1P 1J1’)</p>
<p># Find out how much it’ll be. usps = ActiveShipping::USPS.new(login: ‘developer-key’) response = usps.find_rates(origin, destination, packages)</p>
<p>usps_rates = response.rates.sort_by(&amp;:price).collect {|rate| [rate.service_name, rate.price]} # =&gt; [[“USPS Priority Mail International”, 4110], # [“USPS Express Mail International (EMS)”, 5750], # [“USPS Global Express Guaranteed Non-Document Non-Rectangular”, 9400], # [“USPS GXG Envelopes”, 9400], # [“USPS Global Express Guaranteed Non-Document Rectangular”, 9400], # [“USPS Global Express Guaranteed”, 9400]] ```</p>
<p>Dimensions for packages are in <code>Height x Width x Length</code> order.</p>
<h3 id="track-a-fedex-package">Track a FedEx package</h3>
<p>```ruby fedex = ActiveShipping::FedEx.new(login: ‘999999999’, password: ‘7777777’, key: ‘1BXXXXXXXXXxrcB’, account: ‘51XXXXX20’) tracking_info = fedex.find_tracking_info(‘tracking-number’, carrier_code: ‘fedex_ground’) # Ground package</p>
<p>tracking_info.shipment_events.each do |event| puts “#{event.name} at #{event.location.city}, #{event.location.state} on #{event.time}. #{event.message}” end # =&gt; Package information transmitted to FedEx at NASHVILLE LOCAL, TN on Thu Oct 23 00:00:00 UTC 2008. # Picked up by FedEx at NASHVILLE LOCAL, TN on Thu Oct 23 17:30:00 UTC 2008. # Scanned at FedEx sort facility at NASHVILLE, TN on Thu Oct 23 18:50:00 UTC 2008. # Departed FedEx sort facility at NASHVILLE, TN on Thu Oct 23 22:33:00 UTC 2008. # Arrived at FedEx sort facility at KNOXVILLE, TN on Fri Oct 24 02:45:00 UTC 2008.</p>
</body>
</html>
