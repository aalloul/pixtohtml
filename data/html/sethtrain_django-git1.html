<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>sethtrain_django-git1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="readme">README</h1>
<p>Get the code via svn:</p>
<pre><code>git checkout git://github.com/sethtrain/django-git.git</code></pre>
<p>Add the django-git/django_git folder to your PYTHONPATH.</p>
<p>Update your settings.py:</p>
<pre><code>INSTALLED_APPS = (
    ...
    &#39;django_git&#39;
    ...
)

REPOS_ROOT = &#39;/Users/seth/projects/git&#39;</code></pre>
<p>And donâ€™t forget to include the urls.py:</p>
<pre><code>urlpatterns = patterns(&#39;&#39;,
    ...
    (r&#39;^git/&#39;, include(&#39;django_git.urls&#39;)),
    ...
)</code></pre>
<p>Then collect the static files, ensuring AppDirectoriesFinder is in STATICFILES_FINDERS:</p>
<pre><code>./manage.py collectstatic -n
# And if that outputs some js/jquery-1.2.6.min.js file and our js/commit.js, continue
./manage.py collectstatic</code></pre>
<p>If there are name resolution issues with commit.js, rename it in templates/django_git/commit.html and move it appropriately.</p>
<p>With the use of , using this app in other projects/apps is much simpler. Apps, not wanting to show the repo/commit/blob directly but handle them in their own way, can simply call the view with only_context=True:</p>
<pre><code>@auto_render
def some_other_view(request, repo=&#39;&#39;, commit_id=&#39;&#39;)
    if not commit_id or not repo: raise Http404

    ctx = django_git.views.commit(request, repo, commit_id, only_context=True)
    diffs = ctx[&#39;diffs&#39;]
    ...
    # Though a more direct use of django_git.utils could be used if necessary as well:
    diffs = django_git.utils.get_commit(repo,commit).diffs</code></pre>
<p>Requirements</p>
</body>
</html>
