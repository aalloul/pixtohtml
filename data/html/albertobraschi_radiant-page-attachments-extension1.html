<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>albertobraschi_radiant-page-attachments-extension1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="page-attachments">Page Attachments</h1>
<h2 id="about">About</h2>
<p>A [Radiant][rd] Extension by [Sean Cribbs][sc] that adds page-attachment-style asset management. Page Attachments adds support for file uploads realized as attachments to individual pages. Attachments can have an order via acts_as_list, a title, a description and various metadata fields as provided by AttachmentFu.</p>
<h2 id="installation">Installation</h2>
<p>If you want <code>page_attachments</code> to generate and display thumbnails of your uploaded images you’ll first need to install one of, [<code>image_science</code>][is], [<code>mini-magick</code>][mm] or [<code>rmagick</code>][rm] on your server. This is completely optional, <code>page_attachments</code> will still function in every other way without any of these packages installed.</p>
<p>Next, you need to install the <code>attachment_fu</code> plugin.</p>
<pre><code>cd /path/to/radiant
git clone git://github.com/technoweenie/attachment_fu.git vendor/plugins/attachment_fu</code></pre>
<p>If you don’t have <code>git</code> installed you can simply [download a tarball][af] of <code>attachment_fu</code>, upload and unpack it to your <code>vendor/plugins</code> directory.</p>
<p><strong>Failing to install the <code>attachment_fu</code> plugin before proceeding will result in an “<code>uninitialized constant Technoweenie::AttachmentFu</code>” error when you try to install <code>page_attachments</code>.</strong></p>
<p>Now you’re ready to install <code>page_attachments</code>.</p>
<pre><code>cd /path/to/radiant
git clone git://github.com/radiant/radiant-page-attachments-extension.git vendor/extensions/page_attachments
rake radiant:extensions:page_attachments:migrate
rake radiant:extensions:page_attachments:update</code></pre>
<p>If you don’t have <code>git</code> you can [download a tarball][pa].</p>
<p>During the <code>migrate</code> task you may encounter an “<code>uninitialized constant Technoweenie::AttachmentFu::Backends</code>”. If this happens try <code>git clone git://github.com/technoweenie/attachment_fu.git vendor/extensions/page_attachments/vendor/plugins/attachment_fu</code> and re-run the <code>migrate</code> task.</p>
<p>Attachment thumbnails for images default to <code>:icon =&gt; '50x50&gt;'</code>. You can customize that by setting <code>PAGE_ATTACHMENT_SIZES</code> to whatever you need in your <code>config/environment.rb</code> file</p>
<pre><code>PAGE_ATTACHMENT_SIZES = {:thumb =&gt; &#39;120x120&gt;&#39;, :normal =&gt; &#39;640x480&gt;&#39;}</code></pre>
<p>Restart your server and refresh the admin interface.</p>
<h2 id="managing-attachments">Managing Attachments</h2>
<p>Now when you login and edit a page, you’ll find the “Attachments” interface below the text editing area. To add a new attachment to the page click the <strong>+</strong> icon. If you need to you can upload multiple attachments at once by clicking the <strong>+</strong> icon once for each attachment you’ll be adding. Attachments are <strong>not</strong> added or deleted until the page is saved. Therefore, if you accidentally deleted something you meant to keep, simply cancel the page edit.</p>
<h2 id="usage">Usage</h2>
<ul>
<li>See the “available tags” documentation built into the Radiant page admin for more details.</li>
<li>Reference an attachment by name <code>&lt;r:attachment name=&quot;file.txt&quot;&gt;...&lt;/r:attachment&gt;</code></li>
</ul>
</body>
</html>
