<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>nex3_librmpd1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="librmpd-and-you">Librmpd and You</h1>
<p>librmpd is a simple yet powerful library for the , written in Ruby.</p>
<h2 id="goals">Goals</h2>
<p>The goal of librmpd is to provide MPD client creators with a simple interface that allows for the rapid development of clients. This is accomplished by implementing a callback interface in the library itself, rather than leaving this up to the client developer. librmpd also provides thread safety for its calls to the server, allowing multiple threads to make use of one socket.</p>
<h2 id="mpd-potocol">MPD Potocol</h2>
<p>The Music Player Daemon protocol is implemented in the MPD class. This class contains most of the commands used in communicating with the server. Some of the commands were removed/modified to make the usage more transparent. Gone are the confusing <code>lsinfo</code> and <code>listallinfo</code> variations on listing data from the server. Instead these are replaced with straightforward methods, such as <code>artists</code> to get all artists and <code>songs</code> to get all songs.</p>
<h2 id="usage">Usage</h2>
<p>All functionality is contained in the MPD class. Creating an instance of this class is as simple as</p>
<pre><code>require &#39;rubygems&#39;
require &#39;librmpd&#39;

mpd = MPD.new &#39;localhost&#39;, 6600</code></pre>
<p>Once you have an instance of the MPD class, start by connecting to the server:</p>
<pre><code>mpd.connect</code></pre>
<p>When you are done, disconnect by calling disconnect</p>
<pre><code>mpd.disconnect</code></pre>
<p><em>Note</em>: The server may disconnect you at any time due to inactivity. This can be fixed by enabling callbacks (see the Callbacks section) or by issuing a <code>ping</code> command at certain intervals</p>
<p>Once connected, you can issue commands to talk to the server</p>
<pre><code>mpd.connect
if mpd.stopped?
  mpd.play</code></pre>
</body>
</html>
