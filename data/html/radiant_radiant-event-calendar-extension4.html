<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>radiant_radiant-event-calendar-extension4</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>Create a calendar in your Google Calendar account. Call it ‘public’, or whatever you like, and tick the box marked ‘make this calendar public’.</p>
<p>Click on ‘calendar settings’ from the drop-down menu next to the name of the public calendar, and look towards the bottom for the ‘Calendar Address’ section. Click on ‘ical’ and the address that pops up is your subscription address. You shouldn’t need anything else.</p>
<h3 id="connecting-to-caldav">Connecting to CalDAV</h3>
<p>We aren’t really doing CalDAV properly here, but taking advantage of its compatibility with the simpler ical standard. A simple GET to addresses under /calendar will return a file in ical format, which is what we get and parse. As a passive display client, that’s all we need, but it does mean that so far we can’t display groups properly, or interact with principals, or take proper advantage of the more collaborative functions of CalDAV.</p>
<p>The address for your calendar will either look like this:</p>
<pre><code>https://[calendar.server.com]:8443/calendars/users/[someone]/calendar/</code></pre>
<p>or like this:</p>
<pre><code>https://[calendar.server.com]:8443/calendars/users/[someone]/1D09F977-2F27-4E87-954D-FFED95A70BC0/</code></pre>
<p>but note that the port and protocol will depend on your server setup. The best way to find these addresses is to visit the calendar server in a normal web browser, log in as the authorised person, and cut and paste the address of the calendar you want. You may also be able to get the right address out of iCal or sunbird but some trial and error will be involved.</p>
<p>The best way to think of these addresses under /calendar/ is as the read-only version. The address that you will subscribe to in your desktop calendar application is the read-write version and will look slightly different:</p>
<pre><code>https://[calendar.server.com]:8443/principals/users/[someone]/</code></pre>
<p>is all you need to put into iCal, for example: it will handle subcalendars and GUIDs without bothering you for details.</p>
<h3 id="setting-up-a-caldav-server">Setting up a CalDAV server</h3>
<p>It’s not nice. There are three main options:</p>
<ul>
<li>OS X Server has an excellent built-in ICal server</li>
<li>is the open-source version of that. It’s written mostly in Python and distinctly quirky, but once set up it works very well.</li>
<li>Use a Google calendar and endure a bit of sync bother to get it on the desktop.</li>
<li>er</li>
<li>That’s it unless you speak Java, in which case there are .</li>
</ul>
<p>See for news and background information.</p>
<h3 id="quirks">Quirks</h3>
<p>Calendars are only refreshed if they’re accessed. The <code>event_calendar.default_refresh_interval</code> setting is really a cache duration: on the next request after that interval, we go back to the original source. If that gets too slow for the end user who triggers the refresh then I’ll need to add a calendar-refresh rake task that can be crontabbed, but so far it seems to work well enough.</p>
<p>If you’re administering your calendars in iCal, the first calendar you set up will be accessible at the simple /users/uid/calendar address but after that you’ll have to get the GUIDs. You can get-info on a calendar to get a subscription address but if it’s long it may be truncated.</p>
<p>OS X 10.6 promises to handle all this a lot better. On Windows you’re pretty much confined to Sunbird at the moment. There is a project to to CalDAV but it seems to have stalled.</p>
<h2 id="bugs-and-features">Bugs and features</h2>
<p>please, or for little things an email or github message is fine.</p>
<h2 id="author-copyright">Author &amp; Copyright</h2>
</body>
</html>
