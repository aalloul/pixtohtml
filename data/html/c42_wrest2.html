<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>c42_wrest2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<ul>
<li><p>Deserialise with XPath filtering</p>
<pre><code>ActiveSupport::XmlMini.backend = &#39;REXML&#39;

&#39;http://twitter.com/statuses/public_timeline.xml&#39;.to_uri.get.deserialise(
                                              xpath: &#39;//user/name/text()&#39;
                                            )</code></pre></li>
<li><p>More complex request with parameters and a custom deserialiser</p>
<pre><code>&#39;api.openweathermap.org/data/2.5/weather&#39;.to_uri.get(
              lat: 35,
              lon: 139
              ).deserialise_using(
              Wrest::Components::Translators::Xml
            )</code></pre></li>
<li><p>Basic HTTP auth and URI extensions using Wrest::Uri#[]</p>
<pre><code>base_uri = &#39;https://api.del.icio.us/v1&#39;.to_uri(username: &#39;kaiwren&#39;, password: &#39;fupupp1es&#39;)
bookmarks = base_uri[&#39;/posts/get&#39;].get.deserialise</code></pre></li>
<li><p>Detailed debugging and logging (NOT FOR USE IN PRODUCTION! SEE API DOCS!)</p>
<pre><code>&#39;https://api.github.com/repos/c42/wrest/issues&#39;.to_uri(detailed_http_logging: $stdout).get.deserialize</code></pre></li>
</ul>
<h4 id="post">POST</h4>
<ul>
<li><p>Regular, vanilla Post with a body and headers</p>
<pre><code>&#39;http://my.api.com&#39;.to_uri.post(&#39;YAML encoded body&#39;, &#39;Content-Type&#39; =&gt; &#39;text/x-yaml&#39;)</code></pre></li>
<li><p>Form encoded post</p>
<p>``` ‘https://api.del.icio.us/v1/posts/add’.to_uri( username: ‘kaiwren’, password: ‘fupupp1es’ ).post_form( url: ‘http://blog.sidu.in/search/label/ruby’,</p></li>
</ul>
</body>
</html>
