<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>jgoizueta_float-formats3</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>Minimum and maximum values of the radix-based exponent:</p>
<pre><code>puts IEEE_binary32.radix_min_exp                     # -&gt; -126
puts IEEE_binary32.radix_max_exp                     # -&gt; 127</code></pre>
<p>Decimal precision</p>
<pre><code>puts IEEE_binary32.decimal_digits_stored             # -&gt; 6
puts IEEE_binary32.decimal_digits_necessary          # -&gt; 9</code></pre>
<p>Minimum and maximum decimal exponents:</p>
<pre><code>puts IEEE_binary32.decimal_min_exp                   # -&gt; -37
puts IEEE_binary32.decimal_max_exp                   # -&gt; 38</code></pre>
<h2 id="encode-and-decode-numbers">Encode and decode numbers</h2>
<p>For each floating-point format class there is a constructor method with the same name which can build a floating-point value from a variety of parameters:</p>
<ul>
<li>Using three integers: the sign (+1 for +, -1 for -), the significand (coefficient or mantissa) and the exponent.</li>
<li>From a text numeral (with an optional Nio format specifier)</li>
<li>From a number : converts a numerical value to a floating point representation.</li>
</ul>
<p>Examples:</p>
<pre><code>File.open(&#39;binary_file.dat&#39;,&#39;wb&#39;){|f| f.write IEEE_binary80(&#39;0.1&#39;).to_bytes}
puts IEEE_binary80(&#39;0.1&#39;).to_hex(true)           # -&gt; CD CC CC CC CC CC CC CC FB 3F
puts IEEE_binary80(0.1).to_hex(true)             # -&gt; CD CC CC CC CC CC CC CC FB 3F
puts IEEE_binary80(+1,123,-2).to_hex(true)       # -&gt; 00 00 00 00 00 00 00 F6 03 40
puts IEEE_decimal32(&#39;1.234&#39;).to_hex(true)        # -&gt; 22 20 05 34</code></pre>
<p>A floating-point encoded value can be converted to useful formats with the to_ and similar methods:</p>
<ul>
<li><code>split</code> (split as integral sign, significand, exponent)</li>
<li><code>to_text</code></li>
<li><code>to(num_class)</code></li>
</ul>
<p>Examples:</p>
<pre><code>v = IEEE_binary80.from_bytes(File.read(&#39;binary_file.dat&#39;))
puts v.to(Rational)                              # -&gt; 1/10
puts v.split.inspect                             # -&gt; [1, 14757395258967641293, -67]
puts v.to_text                                   # -&gt; 0.1
puts v.to(Float)                                 # -&gt; 0.1
puts v.to_hex                                    # -&gt; CDCCCCCCCCCCCCCCFB3F</code></pre>
</body>
</html>
