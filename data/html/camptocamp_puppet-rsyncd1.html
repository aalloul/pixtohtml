<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>camptocamp_puppet-rsyncd1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="rsyncd">Rsyncd</h1>
<h2 id="requirements">Requirements</h2>
<ul>
<li>augeas &gt;= 0.4.0</li>
<li>puppet &gt;= 0.24.7 (which includes native augeas type)</li>
<li>this file (at least while it’s not part of puppet), which fixes issue #1835: http://github.com/bkearney/puppet/tree/e431fee6de4c45fb85225d5aaff412ea0763d06f/lib/puppet/provider/augeas/augeas.rb</li>
</ul>
<h2 id="example-usage">Example usage</h2>
<p>```puppet package { [“rsync”, “xinetd”]: ensure =&gt; present } service { “xinetd”: ensure =&gt; running }</p>
<p>include rsyncd $password = generate(“/usr/bin/pwgen”, 8, 1)</p>
<p>file { “/backup-mysql”: ensure =&gt; directory, mode =&gt; 0775, owner =&gt; “dba”, group =&gt; “dba”, }</p>
<p>file { “/home/dba/rsyncd.secret”: content =&gt; “backup:${password}”, replace =&gt; no, mode =&gt; 0460, owner=&gt; “root”, group =&gt; “dba”, require =&gt; User[“dba”], }</p>
<p>rsyncd::export { “backup”: path =&gt; “/backup-mysql”, chroot =&gt; true, readonly =&gt; true, uid =&gt; “dba”, gid =&gt; “dba”, users =&gt; “backup”,</p>
</body>
</html>
