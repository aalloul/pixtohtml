<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>rtomayko_tilt4</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>The block passed to <code>render</code> is called on <code>yield</code>:</p>
<pre><code>template = Tilt::ERBTemplate.new(&#39;foo.erb&#39;)
template.render { &#39;Joe&#39; }
# =&gt; &quot;Hey Joe!&quot;</code></pre>
<h2 id="template-mappings">Template Mappings</h2>
<p>The {Tilt::Mapping} class includes methods for associating template implementation classes with filename patterns and for locating/instantiating template classes based on those associations.</p>
<p>The {Tilt} module has a global instance of <code>Mapping</code> that is populated with the table of template engines above.</p>
<p>The {Tilt.register} method associates a filename pattern with a specific template implementation. To use ERB for files ending in a <code>.bar</code> extension:</p>
<pre><code> &gt;&gt; Tilt.register Tilt::ERBTemplate, &#39;bar&#39;
 &gt;&gt; Tilt.new(&#39;views/foo.bar&#39;)
 =&gt; #&lt;Tilt::ERBTemplate @file=&quot;views/foo.bar&quot; ...&gt;</code></pre>
<p>Retrieving the template class for a file or file extension:</p>
<pre><code> &gt;&gt; Tilt[&#39;foo.bar&#39;]
 =&gt; Tilt::ERBTemplate
 &gt;&gt; Tilt[&#39;haml&#39;]
 =&gt; Tilt::HamlTemplate</code></pre>
<p>Retrieving a list of template classes for a file:</p>
<pre><code>&gt;&gt; Tilt.templates_for(&#39;foo.bar&#39;)
=&gt; [Tilt::ERBTemplate]
&gt;&gt; Tilt.templates_for(&#39;foo.haml.bar&#39;)
=&gt; [Tilt::ERBTemplate, Tilt::HamlTemplate]</code></pre>
<p>The template class is determined by searching for a series of decreasingly specific name patterns. When creating a new template with <code>Tilt.new('views/foo.html.erb')</code>, we check for the following template mappings:</p>
<ol type="1">
<li><code>views/foo.html.erb</code></li>
<li><code>foo.html.erb</code></li>
<li><code>html.erb</code></li>
<li><code>erb</code></li>
</ol>
<h2 id="encodings">Encodings</h2>
</body>
</html>
