<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>jmibanez_jmeter-rmi-plugin5</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>if (reg.getTarget(&quot;myRemote&quot;) == null) {
    reg.registerRmiInstance(&quot;myRemote&quot;, ret);
}</code></pre>
<p>```</p>
<p>The <code>String</code> first argument to <code>registerRmiInstance</code> is the value that the RMI Sampler references in the <code>Target name</code> property.</p>
<p>As mentioned earlier, if you leave the <code>Target name</code> property empty for an RMI Sampler, it will use the root remote object, specified by the relevant RMI Remote Object config.</p>
<h2 id="known-issues">Known Issues</h2>
<h3 id="recordingrmi-proxy">Recording/RMI Proxy</h3>
<h4 id="when-generating-argument-scriptlets-the-rmi-proxy-does-not-track-instances">When generating argument scriptlets, the RMI Proxy does not track instances</h4>
<p>When generating argument scriptlets, the RMI proxy currently does not track object instances across method invocations. For instance, if method <code>foo</code> is invoked by the instrumented application with an object of class <code>Bar</code>, and the same <code>Bar</code> instance is then passed to method <code>fooTwo</code>, the argument scripts generated by the RMI proxy for the two RMI samplers will each create a different <code>Bar</code> instance, instead of saving the <code>Bar</code> instance in the first call (e.g. in the JMeter variables) and referencing it in the second call.</p>
<p>This should not be a major issue, as arguments are passed by value under RMI, unless the object is a <code>Remote</code>, in which case it is passed by reference. For the general case (non-<code>Remote</code> objects), there is no semantic difference when used as arguments to methods between creating two separate instances who have the same content (and are equal) versus using the same instance.</p>
<h4 id="the-rmi-proxy-cant-properly-handle-remotes-passed-by-client">The RMI proxy can’t properly handle remotes passed by client</h4>
<p>Currently, the RMI proxy does not support the application passing a remote object to the server for the purposes of the server calling into the client. The proxy does forward the remote properly to the server; however, the generated argument script is broken, and references into the dynamic proxy that the JVM generates as the stub in lieu of the remote.</p>
<h2 id="copyright-and-license">Copyright and License</h2>
<p>Copyright © 2009 Orange and Bronze Software Labs; Copyright © 2009-2017 JM Ibanez. Licensed under the GNU GPL version 2. See the</p>
</body>
</html>
