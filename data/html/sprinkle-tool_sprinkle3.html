<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>sprinkle-tool_sprinkle3</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>``` ruby # Sprinkle Rails deployment script # # This is an example Sprinkle script, configured to install Rails from gems, Apache, Ruby and Git from source, # and mysql and Git dependencies from apt on an Ubuntu system. Installation is configured to run via # Capistrano (and an accompanying deploy.rb recipe script). Source based packages are downloaded and built into # /usr/local on the remote system. # # A sprinkle script is separated into 3 different sections. Packages, policies and deployment. # # Packages # # Defines the world of packages as we know it. Each package has a name and # set of metadata including its installer type (eg. apt, source, gem, etc). Packages can have # relationships to each other via dependencies # # Policies # # Names a group of packages (optionally with versions) that apply to a particular set of roles. # # Deployment # # Defines script wide settings such as a delivery mechanism for executing commands on the target # system (eg. capistrano), and installer defaults (eg. build locations, etc).</p>
<h1 id="packages">Packages</h1>
<p>package :ruby do description ‘Ruby Virtual Machine’ version ‘1.8.6’ source “ftp://ftp.ruby-lang.org/pub/ruby/1.8/ruby-#{version}-p111.tar.gz” requires :ruby_dependencies end</p>
<p>package :ruby_dependencies do description ‘Ruby Virtual Machine Build Dependencies’ apt %w( bison zlib1g-dev libssl-dev libreadline5-dev libncurses5-dev file ) end</p>
<p>package :mysql, :provides =&gt; :database do description ‘MySQL Database’ apt %w( mysql-server mysql-client ) end</p>
<p>package :apache, :provides =&gt; :webserver do description ‘Apache 2 HTTP Server’ version ‘2.2.9’ source “http://apache.wildit.net.au/httpd/httpd-#{version}.tar.bz2” do enable %w( mods-shared=all proxy proxy-balancer proxy-http rewrite cache headers ssl deflate so )</p>
</body>
</html>
