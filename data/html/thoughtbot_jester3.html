<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>thoughtbot_jester3</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>Error validations are supported. If a model fails to save, save returns false, and the model’s errors property is set with an array of the error messages returned.</p>
<pre><code>&gt;&gt;&gt; jared = User.build({name: &quot;&quot;, email: &quot;&quot;})
Object _name=User _singular=user _plural=users

&gt;&gt;&gt; jared.save()
POST http://localhost:3000/users.xml
false

&gt;&gt;&gt; jared.errors
[&quot;Name can&#39;t be blank&quot;, &quot;Email can&#39;t be blank&quot;]
&gt;&gt;&gt; jared.valid()
false

&gt;&gt;&gt; jared.name = &quot;Jared Carroll&quot;
&quot;Jared Carroll&quot;
&gt;&gt;&gt; jared.email = &quot;emill@thoughtbot.com&quot;
&quot;emill@thoughtbot.com&quot;

&gt;&gt;&gt; jared.save()
POST http://localhost:3000/users.xml
false

&gt;&gt;&gt; jared.errors
[&quot;Email has already been taken&quot;]
&gt;&gt;&gt; jared.email = &quot;jcarroll@thoughtbot.com&quot;
&quot;jcarroll@thoughtbot.com&quot;

&gt;&gt;&gt; jared.save()
POST http://localhost:3000/users.xml
true</code></pre>
<p>Lastly, associations are also supported. If the association data is included in the XML, they’ll be loaded into the returned model as Jester models of their own, using the same assumptions on naming and URL prefix described above. They’re full models, so you can edit and save them as you would the parent. Has_many relationships come back as simple arrays, has_one relationships as a property. In this example, User has_many :posts, and Post belongs_to :user.</p>
<pre><code>&gt;&gt;&gt; eric = User.find(1)
GET http://localhost:3000/users/1.xml
Object _name=User _singular=user _plural=users

&gt;&gt;&gt; eric.posts
[Object _name=Post _singular=post _plural=posts, Object _name=Post _singular=post _plural=posts]

&gt;&gt;&gt; eric.posts.first().body
&quot;Today I passed the bar exam. Tomorrow, I make Nancy my wife.&quot;
&gt;&gt;&gt; eric.posts.first().body = &quot;Today I *almost* passed the bar exam. The ring waits one more day.&quot;
&quot;Today I *almost* passed the bar exam. The ring waits one more day.&quot;

&gt;&gt;&gt; eric.posts.first().save()
POST http://localhost:3000/posts/1.xml
true</code></pre>
</body>
</html>
