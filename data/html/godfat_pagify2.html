<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>godfat_pagify2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>require &#39;pagify&#39;
require &#39;pagify/helper/innate&#39;</code></pre>
<p>in controller, say you want pagify helper:</p>
<pre><code>class Controller &lt; Ramaze::Controller
  helper :pagify
end</code></pre>
<p>for the data part, see <code>DataMapperPager</code> or <code>ActiveRecordPager</code> in view, same as in Rails.</p>
<p>Basic DataMapper usage:</p>
<pre><code>require &#39;pagify/data_mapper&#39;

class User
  include DataMapper::Resource
  property :id, Serial
  property :name, String
  has n, :pets
end

class Pet
  include DataMapper::Resource
  property :id, Serial
  property :name, String
  belongs_to :user
end

User.pagify :page =&gt; 1, :per_page =&gt; 10 # =&gt; create a page contains users
User.all(:name =&gt; &#39;godfat&#39;).pagify      # =&gt; create a page contains users named godfat

User.get(1).pets.pagify                 # =&gt; create a page contains pets owned by user 1</code></pre>
<p>Basic html helper usage:</p>
<pre><code>require &#39;pagify/helper/html&#39;</code></pre>
<p>Create a string with page links.</p>
<pre><code>Pet.pagify.pager.html.links(params[:page]){ |page|
  # the block result would be used as url for each page
  &quot;/pets/list?page=#{page}&quot;
}

Pagify::Helper::HTML.setting[:prev_text] = &#39;&lt;]&#39; # globally change html setting</code></pre>
<p>If you would like to use instance level setting, you shouldnâ€™t use method</p>
</body>
</html>
