<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>mattrepl_swank-clojure2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>has been a standard piece of the Emacs ecosystem for a while now. See the “Installing from Source” section below if you wish to hack on a development version that hasn’t been released yet.</p>
<h2 id="project-layout">Project Layout</h2>
<p>If you intend to use M-x swank-clojure-project, it will prompt for a project dir and set up the classpath for that structure based on some existing Clojure conventions:</p>
<ul>
<li>src/, classes/, and test/ - added to the classpath</li>
<li>lib/ - all .jars in here are added to the classpath</li>
<li>src/main/clojure, src/test/, target/classes, target/dependency - added if pom.xml exists (maven-style) All jars in target/dependency will be added as well.</li>
</ul>
<p>Your project should include <em>all</em> its dependent jars (including Clojure and Swank-Clojure) in either lib/ or target/dependency. If it depends on more than just Clojure, Contrib, and Swank, it’s recommended that you use a dependency manager such as Leiningen to manage these.</p>
<p>If you have a running session and you add jars to lib/, you need to start a new session. Invoke M-x swank-clojure-project to get a session with the new classpath in place. M-x slime-restart-inferior-lisp will restart the subprocess, but it does not recalculate the classpath.</p>
<h2 id="embedding">Embedding</h2>
<p>You can embed swank in your project, start the server from within your own code, and connect via Emacs to that instance:</p>
<pre><code>(ns my-app
  (:use [swank.swank :as swank]))
(swank/start-repl) ;; optionally takes a port argument</code></pre>
<p>Then use M-x slime-connect to connect from within Emacs.</p>
<p>You can also start the server directly from the “java” command-line launcher if you use “swank.swank” as your main class.</p>
<h2 id="commands">Commands</h2>
<p>Commonly-used commands:</p>
<ul>
<li><strong>M-TAB</strong>: Autocomplete symbol at point</li>
<li><strong>C-x C-e</strong>: Eval the form under the point</li>
<li><strong>C-c C-k</strong>: Compile the current buffer</li>
<li><strong>M-.</strong>: Jump to the definition of a var</li>
<li><strong>C-c S-i</strong>: Inspect a value</li>
</ul>
</body>
</html>
