<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>duritong_puppet-nagios3</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><code>::fqdn</code></p>
<ul>
<li><p>previous versions of this module used <code>$::fqdn</code> for the <code>nagios::target</code> address, now it is using <code>$::ipaddress</code>. If you need <code>$::fqdn</code>, use <code>nagios::target::fqdn</code> instead of <code>nagios::target</code></p></li>
<li><p>previous versions of <code>nagios_host</code> used the parameter named <code>ip</code>, that has been changed to <code>address</code></p></li>
</ul>
<h1 id="irc-bot">IRC bot</h1>
<p>Notifications can easily be sent to an IRC channel by using a bot. To do so, simply include <code>nagios::irc_bot</code> on the nagios server and define the right <code>$nagios_nsa_*</code> variables (see the ‘Variables’ section below).</p>
<p>You can then use the notification commands <code>notify-by-irc</code> and <code>host-notify-by-irc</code> with service and host definitions to make them report state changes over IRC.</p>
<h1 id="caveats">Caveats</h1>
<h2 id="consistencyvalidationverification">Consistency/Validation/Verification</h2>
<p>After convergance of the configuration, the system is obviously consistent. That is, all defined services are monitored. The problem is though, that it is neither automatically valid - it is not guaranteed that all components declare a <code>nagios::service</code> - and even if the configuration is valid it definitly is unverified, since that is always a judgment call for an external observer.</p>
<h2 id="removal-of-nagios-objects">Removal of nagios objects</h2>
<p>This module does not automatically purge nagios objects such as hosts and services that become absent from the manifests. One must set <code>ensure =&gt; absent</code> to guarantee the removal of nagios objects from the configuration as desired.</p>
<h2 id="templates-not-supported-using-native-types">Templates not supported using native types</h2>
<p>Templates of hosts and services cannot yet be defined using native types. In this module, they are provided using a file resource by the class <code>nagios::defaults::templates</code></p>
</body>
</html>
