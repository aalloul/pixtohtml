<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>osteele_cl-spec1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="cl-spec">CL-SPEC</h1>
<p>This library is an implementation of Ruby rspec for behavioral testing, in Common Lisp.</p>
<h2 id="concepts">Concepts</h2>
<p>Specifications are an alternative to the standard unit test syntax (SUnit, JUnit, and their ports).</p>
<p>A specification is a list of examples. Each example has a name, and a body. The body can contain any lisp code, as well as forms that begin with <code>=&gt;</code>.</p>
<p>A specification is run to produce a list of results: which examples passed, and which failed (and with what condition, although for now the condition text is not very useful).</p>
<p>See the Lisp files in the examples directory for some very simple examples of specifications.</p>
<h2 id="loading">Loading</h2>
<pre><code>(asdf:oos &#39;asdf:load-op :cl-spec)</code></pre>
<h2 id="usage">Usage</h2>
<p>There are three ways to run a spec.</p>
<p>First, by evaluating it (from the command line, or in an editor window). This runs the specification, and returns a short string counting the number of tests that succeeded, or listing the names of the tests that failed. The intent is that this will be useful to look at in your minibuffer or on your console.</p>
<p>Second, by applying <code>RUN-SPECIFICATION</code> to a path name (<code>STRING</code> or <code>PATHNAME</code>): (run-specification “examples/failing-spec.lisp”)</p>
<p>This prints a text summary of the pass/fail status to standard output, like so:</p>
<pre><code>.FF..

1)
&quot;should fail&quot; FAILED
Condition EXPECTATION-NOT-MET was signalled.
/users/osteele/documents/projects/cl-spec/examples/failing-spec.lisp

2)</code></pre>
</body>
</html>
