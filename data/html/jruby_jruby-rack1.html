<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>jruby_jruby-rack1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="jruby-rack">JRuby-Rack</h1>
<p>JRuby-Rack is a lightweight adapter for the Java Servlet environment that allows any (Ruby) Rack-based application to run unmodified in a Java Servlet container. JRuby-Rack supports Rails as well as any Rack-compatible Ruby web framework.</p>
<p>For more information on Rack, visit http://rack.github.io/.</p>
<p><strong>This README (master) targets JRuby-Rack 1.2 (unreleased) please use the branch for current stable 1.1.x releases.</strong></p>
<p>][8]</p>
<h2 id="compatibility">Compatibility</h2>
<p>JRuby-Rack 1.1.x aims to be compatible with JRuby &gt;= 1.6.4 (we recommend 1.7.x), Generally, any container that supports Java Servlet &gt;= 2.5 (JEE 5) is supported.</p>
<p>JRuby-Rack 1.2.x is expected to officially support JRuby &gt;= 1.7.10 and will be compiled against the Java Servlet 3.0 API.</p>
<h2 id="getting-started">Getting Started</h2>
<p>The most-common way to use JRuby-Rack with a Java server is to get [Warbler][1].</p>
<p>Warbler depends on the latest version of JRuby-Rack and ensures it gets placed in your WAR file when it gets built.</p>
<p>If you’re assembling your own WAR using other means, you can install the <strong>jruby-rack</strong> gem. It provides a method to locate the jar file:</p>
<pre><code>require &#39;jruby-rack&#39;
FileUtils.cp JRubyJars.jruby_rack_jar_path, &#39;.&#39;</code></pre>
<p>Otherwise you’ll need to download the latest [jar release][2], drop it into the <em>WEB-INF/lib</em> directory and configure the <code>RackFilter</code> in your application’s <em>web.xml</em> (see following examples).</p>
<p>Alternatively you can use a server built upon JRuby-Rack such as [Trinidad][3] with sensible defaults, without the need to configure a deployment descriptor.</p>
<h3 id="rails">Rails</h3>
<p>Here’s sample <em>web.xml</em> configuration for Rails. Note the environment and min/max runtime parameters. For <strong>multi-threaded</strong> (a.k.a. <code>threadsafe!</code>) Rails with a single runtime, set min/max both to 1. Otherwise, define the size of the runtime pool as you wish.</p>
</body>
</html>
