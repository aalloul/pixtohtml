<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>pezra_rspec-mode3</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>What you can do to solve this is to use <code>BASH</code> for running the specs. This piece of code does the job:</p>
<pre class="emacs"><code>(defadvice rspec-compile (around rspec-compile-around)
  &quot;Use BASH shell for running the specs because of ZSH issues.&quot;
  (let ((shell-file-name &quot;/bin/bash&quot;))
    ad-do-it))

(ad-activate &#39;rspec-compile)</code></pre>
<h3 id="vagrant">Vagrant</h3>
<p>You can run specs inside a Vagrant box. You can enable it through the <code>rspec-use-vagrant-when-possible</code> customization option. You can also set the directory where your project is inside your box through the <code>rspec-vagrant-cwd</code> option. This will run specs through the <code>vagrant ssh -c 'cd &lt;cwd&gt;; &lt;rspec command&gt;'</code>.</p>
<h3 id="docker">Docker</h3>
<p>You can run specs inside a Docker container. This can be enabled through the <code>rspec-use-docker-when-possible</code> option. This enabled, rspec is executed through <code>docker-compose run</code>. The following customization options are available:</p>
<table>
<colgroup>
<col style="width: 41%" />
<col style="width: 29%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="header">
<th>Option</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>rspec-use-docker-when-possible</code></td>
<td><code>nil</code></td>
<td>Enable docker</td>
</tr>
<tr class="even">
<td><code>rspec-docker-command</code></td>
<td><code>docker-compose run</code></td>
<td>Docker command to run</td>
</tr>
<tr class="odd">
<td><code>rspec-docker-cwd</code></td>
<td><code>/app/</code></td>
<td>Path rspec to run in inside of the container</td>
</tr>
<tr class="even">
<td><code>rspec-docker-container</code></td>
<td><code>rspec-container-name</code></td>
<td>Name of the container to run rspec into</td>
</tr>
</tbody>
</table>
<p>To define the options for different projects, have a look at .</p>
<h3 id="auto-scrolling">Auto-scrolling</h3>
<p>Set <code>compilation-scroll-output</code>. For example, <code>(setq compilation-scroll-output t)</code> will turn on auto scrolling.</p>
<h2 id="contributing">Contributing</h2>
<p>Love RSpec and Emacs? Great, help out by contributing. The easiest way to contribute is to checkout the , make a change and then submit a pull request.</p>
</body>
</html>
