<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>jugend_amazon-ecs2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="find-elements-matching-item-in-response-object">Find elements matching ‘Item’ in response object</h1>
<p>res.items.each do |item| # Retrieve string value using XML path item.get(‘ASIN’) item.get(‘ItemAttributes/Title’)</p>
<p># Return Amazon::Element instance item_attributes = item.get_element(‘ItemAttributes’) item_attributes.get(‘Title’)</p>
<p>item_attributes.get_unescaped(‘Title’) # unescape HTML entities item_attributes.get_array(‘Author’) # [‘Author 1’, ‘Author 2’, …] item_attributes.get(‘Author’) # ‘Author 1’</p>
<p># Return a hash object with the element names as the keys item.get_hash(‘SmallImage’) # {:url =&gt; …, :width =&gt; …, :height =&gt; …}</p>
<p># Return the first matching path item_height = item.get_element(‘ItemDimensions/Height’) item_height.attributes[‘Units’] # ‘hundredths-inches’</p>
<p># There are two ways to find elements: # 1) return an array of Amazon::Element reviews = item.get_elements(‘EditorialReview’) reviews.each do |review| el.get(‘Content’) end</p>
<p># 2) return Nokogiri::XML::NodeSet object or nil if not found reviews = item/‘EditorialReview’ reviews.each do |review| el = Amazon::Element.new(review) el.get(‘Content’) end end ```</p>
<h2 id="other-operations">Other Operations</h2>
<p>```ruby # Item lookup res = Amazon::Ecs.item_lookup(“0974514055”) item = res.get_element(“Item”)</p>
<h1 id="browse-node-lookup">Browse node lookup</h1>
<p>res = Amazon::Ecs.browse_node_lookup(“17”) nodes = res.get_elements(“BrowseNode”) nodes.each do |node| node.get(‘Name’) end</p>
</body>
</html>
