<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>mwlang_elemental2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>Fixnum if you “persist_ordinally”).</p>
<p>The primary aim of Elemental is to collect and abstract literals away from your code logic. There’s an old programmer’s wisdom that you should not encode your logic using literal values, especially those the end-user is exposed to.</p>
<p>Yet, interpreted languages seem to be famous for sowing the practice of doing boolean expressions replete with string literals. Which can be ok until one day your client says, “I don’t like ‘Active’ can we use ‘enabled’ instead?”).</p>
<p>In your code, instead of:</p>
<pre><code>if my_user.status == &#39;Active&#39; ...</code></pre>
<p>or worse</p>
<pre><code>my_user.favorite_color = 1</code></pre>
<p>(what color is 1?!)</p>
<p>The above suffers from the following: * literals are subject to change or are cryptic. * diff spellings mean diff things (‘Active’ != ‘active’ != ‘Actve’). * relying on literals error prone and hard to test. * code is often not readable as-is (what color is 1, again?).</p>
<p>With Elemental, do this:</p>
<pre><code>if my_user.status == UserStatus::active.value
my_user.favorite_color = Color::blue</code></pre>
<p>When you save a value to a persistent store (database, stream, file, etc.), you assign the Element#value like so:</p>
<pre><code>my_user.status = UserStatus::active.value</code></pre>
<p>(more on what you get via “value” later)</p>
<p>If UserStatus::active isn’t defined, you get an error immediately that you can attribute to a typo in your code. This behavior is by design in Elemental. That’s a unit test you <em>don’t</em> have to write! Simply define your class or module and include the Ruby symbols you need:</p>
<pre><code>class AccountStatus
    extend Elemental
    member :active,       :display =&gt; &#39;Active&#39;
    member :delinquent,   :display =&gt; &quot;Account Past Due&quot;
    member :inactive      :display =&gt; &quot;Inactive&quot;
end</code></pre>
</body>
</html>
