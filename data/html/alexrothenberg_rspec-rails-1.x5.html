<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>alexrothenberg_rspec-rails-1.x5</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>render :template =&gt; &quot;events/show&quot;, :layout =&gt; &quot;layouts/application&quot;</code></pre>
<h2 id="assignkey-val"><code>assign(key, val)</code></h2>
<p>Use this to assign values to instance variables in the view:</p>
<pre><code>assign(:widget, stub_model(Widget))
render</code></pre>
<p>The code above assigns <code>stub_model(Widget)</code> to the <code>@widget</code> variable in the view, and then renders the view.</p>
<p>Note that because view specs mix in <code>ActionView::TestCase</code> behavior, any instance variables you set will be transparently propagated into your views (similar to how instance variables you set in controller actions are made available in views). For example:</p>
<pre><code>@widget = stub_model(Widget)
render # @widget is available inside the view</code></pre>
<p>RSpec doesnâ€™t officially support this pattern, which only works as a side-effect of the inclusion of <code>ActionView::TestCase</code>. Be aware that it may be made unavailable in the future.</p>
<h3 id="upgrade-note">* Upgrade note</h3>
<p><code>assign(key, value)</code> replaces <code>assigns[key] = value</code> from rspec-rails-1.3</p>
<h2 id="rendered"><code>rendered</code></h2>
<p>This represents the rendered view.</p>
<pre><code>render
rendered.should =~ /Some text expected to appear on the page/</code></pre>
<h3 id="upgrade-note-1">* Upgrade note</h3>
<p><code>rendered</code> replaces <code>response</code> from rspec-rails-1.3</p>
<h1 id="routing-specs">Routing specs</h1>
<p>Routing specs live in spec/routing.</p>
<pre><code>describe &quot;routing to profiles&quot; do
  it &quot;routes /profile/:username to profile#show for username&quot; do
    { :get =&gt; &quot;/profiles/jsmith&quot; }.should route_to(
      :controller =&gt; &quot;profiles&quot;,
      :action =&gt; &quot;show&quot;,
      :username =&gt; &quot;jsmith&quot;
    )</code></pre>
</body>
</html>
