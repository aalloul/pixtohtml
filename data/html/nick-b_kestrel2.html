<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>nick-b_kestrel2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<ul>
<li><p>reliable</p>
<p>A client can ask to “tentatively” fetch an item from a queue, and if that client disconnects from kestrel before confirming ownership of the item, the item is handed to another client. In this way, crashing clients don’t cause lost messages.</p></li>
</ul>
<h2 id="anti-features">Anti-Features</h2>
<p>Kestrel is not:</p>
<ul>
<li><p>strongly ordered</p>
<p>While each queue is strongly ordered on each machine, a cluster will appear “loosely ordered” because clients pick a machine at random for each operation. The end result should be “mostly fair”.</p></li>
<li><p>transactional</p>
<p>This is not a database. Item ownership is transferred with acknowledgement, but kestrel does not concern itself with what happens to an item after a client has accepted it.</p></li>
</ul>
<h2 id="use">Use</h2>
<p>Building from source is easy:</p>
<pre><code>$ ant</code></pre>
<p>Scala libraries and dependencies will be downloaded from maven repositories the first time you do a build. The finished distribution will be in <code>dist</code>.</p>
<p>A sample startup script is included, or you may run the jar directly. All configuration is loaded from <code>kestrel.conf</code>.</p>
<h2 id="performance">Performance</h2>
<p>All of the below timings are on my 2GHz 2006-model macbook pro.</p>
<p>Since starling uses eventmachine in a single-thread single-process form, it has similar results for all access types (and will never use more than one core).</p>
<pre><code>=========  =================  ==========
# Clients  Pushes per client  Total time</code></pre>
</body>
</html>
