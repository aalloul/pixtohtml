<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>baldowl_sinatras-hat4</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>back to the articles index.</p>
<pre>
mount Article do
  after :create do |on|
    on.success { |record| render(:edit) }
    on.failure { |record| redirect(:index) }
  end
end
</pre>
<p>Only <code>:create</code> and <code>:update</code> actions allow to handle success and failure differently; for the other actions you can customize only the <code>success</code> result and if something goes wrong (i.e., when a record cannot be found) they will simply return a 404 “Not Found” HTTP response.</p>
<h3 id="redirect-options"><code>redirect</code> options</h3>
<p>When specifying a custom redirect, you can pass one of a few things:</p>
<h4 id="a-string">A String</h4>
<p>When you pass <code>redirect</code> a string, the redirect will go to that string.</p>
<pre>
after :create do |on|
  on.success { |record| redirect("/articles/#{record.to_param}") }
end
</pre>
<h4 id="a-record">A Record</h4>
<p>When you pass <code>redirect</code> a record, the redirect will go to the show action for that record.</p>
<pre>
after :create do |on|
  on.success { |record| redirect(record) }
end
</pre>
<h4 id="a-symbol">A symbol</h4>
<p>If you pass <code>redirect</code> the name of an action as a symbol (like <code>:index</code>), then the redirect will go to the correct path for that option:</p>
<pre>
<p>after :create do |on| on.success { redirect(:index) } end</p>
</body>
</html>
