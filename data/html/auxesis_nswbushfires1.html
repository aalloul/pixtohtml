<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>auxesis_nswbushfires1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="dependencies">Dependencies</h1>
<ul>
<li>ruby</li>
<li>rake</li>
<li>bundler</li>
</ul>
<h1 id="setup">Setup</h1>
<p>Setup data dir + run bundler with:</p>
<pre><code>$ rake setup</code></pre>
<p>Once you’ve created an account, register the application with Twitter:</p>
<pre><code>http://dev.twitter.com/apps/new</code></pre>
<p>Note the consumer key &amp; consumer secret on the application page, follow the “My Access Token” link, and note the access token and access secret.</p>
<p>Create a <code>config.yaml</code> with the previously noted details:</p>
<pre><code>---
:consumer_token: &quot;consumer_token_of_doom&quot;
:consumer_secret: &quot;consumer_secret_of_doom&quot;
:access_token: &quot;accces_token_of_doom&quot;
:access_secret: &quot;access_secret_of_doom&quot;</code></pre>
<p>set up a cron job:</p>
<pre><code>$ crontab -e

*/15 * * * * /path/to/project/nswbushfires.sh</code></pre>
<h1 id="how-it-works">How it works</h1>
<p><code>fetcher.rb</code> gets latest current incidents list from RFS GeoRSS feed, extracts data from it, and writes it out in YAML.</p>
<p><code>poster.rb</code> compares the last two YAML files, and posts the differences to Twitter. Also builds a shortened GMaps url for viewing incident location, and embeds lat/lng data in Twitter update.</p>
<p><code>nswbushfires.sh</code> wraps both, making it suitable for running out of cron.</p>
<h1 id="operational-improvements">Operational improvements</h1>
</body>
</html>
