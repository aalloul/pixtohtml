<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>ambethia_recaptcha2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>end ```</p>
<h2 id="sinatra-rack-ruby-installation">Sinatra / Rack / Ruby installation</h2>
<p>See <a href="/demo/sinatra">sinatra demo</a> for details.</p>
<ul>
<li>add <code>gem 'recaptcha'</code> to <code>Gemfile</code></li>
<li>set env variables</li>
<li><code>include Recaptcha::ClientHelper</code> where you need <code>recaptcha_tags</code></li>
<li><code>include Recaptcha::Verify</code> where you need <code>verify_recaptcha</code></li>
</ul>
<h2 id="recaptcha_tags">recaptcha_tags</h2>
<p>Some of the options available:</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>:noscript</td>
<td>Include <noscript> content (default <code>true</code>)</td>
</tr>
<tr class="even">
<td>:theme</td>
<td>Specify the theme to be used per the API. Available options: <code>dark</code> and <code>light</code>. (default <code>light</code>)</td>
</tr>
<tr class="odd">
<td>:ajax</td>
<td>Render the dynamic AJAX captcha per the API. (default <code>false</code>)</td>
</tr>
<tr class="even">
<td>:site_key</td>
<td>Override site API key</td>
</tr>
<tr class="odd">
<td>:error</td>
<td>Override the error code returned from the reCAPTCHA API (default <code>nil</code>)</td>
</tr>
<tr class="even">
<td>:size</td>
<td>Specify a size (default <code>nil</code>)</td>
</tr>
<tr class="odd">
<td>:hl</td>
<td>Optional. Forces the widget to render in a specific language. Auto-detects the user’s language if unspecified. (See</td>
</tr>
<tr class="even">
<td>:id</td>
<td>Specify an html id attribute (default <code>nil</code>)</td>
</tr>
<tr class="odd">
<td>:script</td>
<td>If you do not need to add a script tag by helper you can set the option to false. It’s necessary when you add a script tag manualy (default <code>true</code>)</td>
</tr>
</tbody>
</table>
<p>You can also override the html attributes for the sizes of the generated <code>textarea</code> and <code>iframe</code> elements, if CSS isn’t your thing. Inspect the source of <code>recaptcha_tags</code> to see these options.</p>
<h2 id="verify_recaptcha">verify_recaptcha</h2>
<p>This method returns <code>true</code> or <code>false</code> after processing the parameters from the reCAPTCHA widget. Why isn’t this a model validation? Because that violates MVC. You can use it like this, or how ever you like. Passing in the ActiveRecord object is optional, if you do–and the captcha fails to verify–an error will be added to the object for you to use.</p>
<p>Some of the options available:</p>
<table>
<colgroup>
<col style="width: 51%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr class="header">
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>:model</td>
<td>Model to set errors.</td>
</tr>
<tr class="even">
<td>:attribute</td>
<td>Model attribute to receive errors. (default :base)</td>
</tr>
<tr class="odd">
<td>:message</td>
<td>Custom error message.</td>
</tr>
<tr class="even">
<td>:secret_key</td>
<td>Override secret API key.</td>
</tr>
<tr class="odd">
<td>:timeout</td>
<td>The number of seconds to wait for reCAPTCHA servers before give up. (default <code>3</code>)</td>
</tr>
<tr class="even">
<td>:response</td>
<td>Custom response parameter. (default: params[‘g-recaptcha-response’])</td>
</tr>
<tr class="odd">
<td>:hostname</td>
<td>Expected hostname or a callable that validates the hostname, see</td>
</tr>
<tr class="even">
<td>:env</td>
<td>Current environment. The request to verify will be skipped if the environment is specified in configuration under <code>skip_verify_env</code></td>
</tr>
</tbody>
</table>
</body>
</html>
