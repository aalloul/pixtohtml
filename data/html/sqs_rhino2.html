<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>sqs_rhino2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h4 id="loading-rhino">Loading Rhino</h4>
<p>Since Rhino is not yet packaged as a gem, you will have to <tt>require ‘PATH_TO_RHINO/lib/rhino.rb’</tt> in your scripts.</p>
<h2 id="usage">Usage</h2>
<h3 id="connect-to-hbase">Connect to HBase</h3>
<p>The following code points Rhino to the Thrift server you just started (which by default listens on localhost:9090).</p>
<p>Rhino::Model.connect(‘localhost’, 9090)</p>
<h3 id="describe-your-table">Describe your table</h3>
<p>A class definition like:</p>
<p>class Page &lt; Rhino::Model include Rhino::Constraints</p>
<pre><code>column_family :title
column_family :contents
column_family :links
column_family :meta
column_family :images

alias_attribute :author, &#39;meta:author&#39;

has_many :links, Link
has_many :images, Image

constraint(:title_required) { |page| page.title and !page.title.empty? }</code></pre>
<p>end</p>
<p>…is mapped to the following HBase table (described in {HBase Query Language}[http://wiki.apache.org/lucene-hadoop/HBase/HBaseShell]</p>
<p>CREATE TABLE pages(title:, contents:, links:, meta:, images:);</p>
<p>Or, in version 0.2’s JRuby shell language:</p>
<p>create ‘pages’, ‘title’, ‘contents’, ‘links’, ‘meta’, ‘images’</p>
<h3 id="basic-operations">Basic operations</h3>
<h4 id="getting-records">Getting records</h4>
<p>page # Page.get(‘some-page’) all_pages # Page.get_all()</p>
<h4 id="creating-new-records">Creating new records</h4>
</body>
</html>
