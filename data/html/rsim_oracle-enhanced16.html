<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>rsim_oracle-enhanced16</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>```</p>
<p>and see if it is successful (use your correct database, username and password)</p>
<h3 id="what-to-do-if-oracle-enhanced-adapter-is-not-working-with-phusion-passenger">What to do if Oracle enhanced adapter is not working with Phusion Passenger?</h3>
<p>Oracle Instant Client and ruby-oci8 requires that several environment variables are set:</p>
<ul>
<li><code>LD_LIBRARY_PATH</code> (on Linux) or <code>DYLD_LIBRARY_PATH</code> (on Mac) should point to Oracle Instant Client directory (where Oracle client shared libraries are located)</li>
<li><code>TNS_ADMIN</code> should point to directory where <code>tnsnames.ora</code> file is located</li>
<li><code>NLS_LANG</code> should specify which territory and language NLS settings to use and which character set to use (e.g. <code>&quot;AMERICAN_AMERICA.UTF8&quot;</code>)</li>
</ul>
<p>If this continues to throw “OCI Library Initialization Error (OCIError)”, you might also need</p>
<ul>
<li><code>ORACLE_HOME</code> set to full Oracle client installation directory</li>
</ul>
<p>When Apache with Phusion Passenger (mod_passenger or previously mod_rails) is used for Rails application deployment then by default Ruby is launched without environment variables that you have set in shell profile scripts (e.g. .profile). Therefore it is necessary to set environment variables in one of the following ways:</p>
<ul>
<li>Create wrapper script as described in</li>
<li>Set environment variables in the file which is used by Apache before launching Apache worker processes - on Linux it typically is envvars file (look in apachectl or apache2ctl script where it is looking for envvars file) or /System/Library/LaunchDaemons/org.apache.httpd.plist on Mac OS X. See the following for more hints.</li>
</ul>
<h3 id="what-to-do-if-my-application-is-stuck">What to do if my application is stuck?</h3>
<p>If you see established TCP connections that do not exchange data, and you are unable to terminate your application using a TERM or an INT signal, and you are forced to use the KILL signal, then the OCI libraries may be waiting indefinitely for a network read operation to complete.</p>
<p>See the <strong>Timeouts</strong> section above.</p>
<h2 id="running-tests">RUNNING TESTS</h2>
<p>See for information how to set up environment and run Oracle enhanced adapter unit tests.</p>
<h2 id="links">LINKS</h2>
<ul>
<li>Source code: http://github.com/rsim/oracle-enhanced</li>
<li>Bug reports / Feature requests / Pull requests: http://github.com/rsim/oracle-enhanced/issues</li>
<li>Discuss at Oracle enhanced adapter group: http://groups.google.com/group/oracle-enhanced</li>
<li>Blog posts about Oracle enhanced adapter can be found at http://blog.rayapps.com/category/oracle_enhanced</li>
</ul>
<h2 id="license">LICENSE</h2>
<p>(The MIT License)</p>
<p>Copyright (c) 2008-2011 Graham Jenkins, Michael Schoen, Raimonds Simanovskis</p>
<p>Permission is hereby granted, free of charge, to any person obtaining</p>
</body>
</html>
