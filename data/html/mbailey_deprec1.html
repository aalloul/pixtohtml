<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>mbailey_deprec1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="deprec---deployment-recipes-for-capistrano">deprec - Deployment Recipes for Capistrano</h1>
<p><strong>Iâ€™ve not used/update this in 5 years - Mike</strong></p>
<p>The [deprec][1] gem is a set of tasks for [Capistrano][2]. These tasks provide for the installation, configuration and control of system services on servers running Ubuntu linux. Deprec was created in 2006 by Mike Bailey to setup an environment for running Ruby on Rails web applications on Ubuntu servers. Since then its uses have grown to installing Xen virtualization, mail, monitoring, high availability IP failover and other services.</p>
<p>The tasks are run at the command line on your workstation and connect to remote servers via ssh to run commands and copy out files.</p>
<p>Deprec-2.x is a complete rewrite of the project that achieves the following:</p>
<ul>
<li>support for Capistrano 2</li>
<li>generated config files are stored locally to enable editing and version control</li>
<li>support for more services (heartbeat, nagios, nginx, ntp, postfix, etc)</li>
<li>multiple Rails deployment options (Passenger+Apache, Mongrel+Apache/Nginx)</li>
<li>creation of a standard base set of task names</li>
<li>tasks are cleanly separated into namespaced units (one file per service)</li>
<li>interactive prompting for missing config values</li>
</ul>
<p>Deprec and Capistrano are written in the [Ruby programming language][3] however no knowledge of Ruby is required to use it. Users should be able to write new tasks and modify existing options without prior knowledge of Ruby.</p>
<h2 id="installation">Installation</h2>
<p>Deprec can using rubygems[5].</p>
<pre><code>sudo gem install deprec  # installs deprec and dependancies 
depify -c                # creates ~/.caprc which you may edit
cap -T                   # should list lots of deprec tasks</code></pre>
<p>The .caprc file is loaded every time you use Capistrano. It in turn loads the deprec tasks so you always have them available. Editing the .caprc file in your home directory allows you to specify the location of your ssh key and enable some other useful options (documented in the comments). You can also put tasks here that you want access to, regardless of the current working directory.</p>
<h2 id="installing-other-things">Installing other things</h2>
</body>
</html>
