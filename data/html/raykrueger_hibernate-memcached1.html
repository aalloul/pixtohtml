<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>raykrueger_hibernate-memcached1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="hibernate-memcached">Hibernate-memcached</h1>
<p>A library for using Memcached as a second level distributed cache in Hibernate.</p>
<ul>
<li>Based on the excellent spymemcached client</li>
<li>Includes support for the Whalin (danga) memcached client</li>
<li>Supports entity and query caching.</li>
</ul>
<h1 id="help">Help</h1>
<p>If you have any questions, or just want to drop a line to say it’s working great :) use the .</p>
<p>Please note that this is an open source project. I work on it when I can and I implement what I feel like. I am volunteering my own free time for my own amusement.</p>
<h1 id="versions">Versions</h1>
<h2 id="section">1.3</h2>
<ul>
<li><a href="hibernate-memcached/blob/master/src/main/java/com/googlecode/hibernate/memcached/HashCodeKeyStrategy.java">HashCodeKeyStrategy</a> <a href="hibernate-memcached/blob/master/src/main/java/com/googlecode/hibernate/memcached/StringKeyStrategy.java">StringKeyStrategy</a> are now both deprecated.</li>
<li><a href="hibernate-memcached/blob/master/src/main/java/com/googlecode/hibernate/memcached/Sha1KeyStrategy.java">Sha1KeyStrategy</a> is now the default strategy.</li>
<li>[Md5KeyStrategy][4] and <a href="hibernate-memcached/blob/master/src/main/java/com/googlecode/hibernate/memcached/Sha1KeyStrategy.java">Sha1KeyStrategy</a> both digest the entire combined key now (region, clear index, key)</li>
<li>[Md5KeyStrategy][4] and <a href="hibernate-memcached/blob/master/src/main/java/com/googlecode/hibernate/memcached/Sha1KeyStrategy.java">Sha1KeyStrategy</a> have been re-implemented to hash both the toString() and hashCode() values of the Hibernate query key object. This should eliminate collisions when using hashCode() alone. .</li>
<li><a href="hibernate-memcached/blob/master/src/main/java/com/googlecode/hibernate/memcached/HashCodeKeyStrategy.java">HashCodeKeyStrategy</a> <a href="hibernate-memcached/blob/master/src/main/java/com/googlecode/hibernate/memcached/StringKeyStrategy.java">StringKeyStrategy</a> will throw exceptions now if the key length is greater than 250.</li>
</ul>
<p>As a result of these changes hibernate-memcached will miss on all cache requests upon upgrading to this version. This is due to the switch to Sha1KeyStrategy as the default. Hibernate-memcached will now generate different keys for the same data you were caching previously. Essentially, your cache will appear empty to Hibernate.</p>
<p>Also, as a result of these changes, 1.3 may not be binary compatible with any subclass hacks you may have written that extend HashCodeKeyStrategy, StringKeyStrategy, Md5KeyStrategy, or Sha1KeyStrategy. Note that the KeyStrategy interface and AbstractKeyStrategy have not changed at all. If you implemented/extended those directly you’re fine.</p>
<ul>
<li>Patch from <span class="citation" data-cites="burtbeckwith">@burtbeckwith</span> to allow for memcached authentication via the spymemcached client. This can be specified using “hibernate.memcached.username” and “hibernate.memcached.password”</li>
</ul>
<h2 id="section-1">1.2.2</h2>
<ul>
<li>Patch from ddlatham to allow the spymemcached library to be put into daemon mode. This is accomplished by setting hibernate.memcached.daemonMode to true.</li>
<li>Updated the maven pom to pull in spymemcached 2.4.2 by default.</li>
</ul>
<h1 id="note-on-patchespull-requests">Note on Patches/Pull Requests</h1>
<ul>
<li>Fork the project.</li>
<li>Make your feature addition or bug fix.</li>
<li>Add tests for it. This is important so I don’t break it in a future version unintentionally.</li>
<li>Commit, do not mess with pom.xml, version, or history. (if you want to have your own version, that is fine but bump version in a commit by itself I can ignore when I pull)</li>
<li>Send me a pull request. Bonus points for topic branches.</li>
</ul>
</body>
</html>
