<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>libwww-perl_libwww-perl11</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>The `response_header` and `response_data` handlers will not be
invoked for this response, but the `response_done` will be.</code></pre>
<ul>
<li><p>response_redirect =&gt; sub { my($response, $ua, $h) = @_; … }</p>
<p>The handler is called in $ua-&gt;request after <code>response_done</code>. If the handler returns an HTTP::Request object we’ll start over with processing this request instead.</p></li>
</ul>
<h2 id="get_my_handler">get_my_handler</h2>
<pre><code>$ua-&gt;get_my_handler( $phase, %matchspec );
$ua-&gt;get_my_handler( $phase, %matchspec, $init );</code></pre>
<p>Will retrieve the matching handler as hash ref.</p>
<p>If <code>$init</code> is passed as a true value, create and add the handler if it’s not found. If <code>$init</code> is a subroutine reference, then it’s called with the created handler hash as argument. This sub might populate the hash with extra fields; especially the callback. If <code>$init</code> is a hash reference, merge the hashes.</p>
<h2 id="handlers">handlers</h2>
<pre><code>$ua-&gt;handlers( $phase, $request )
$ua-&gt;handlers( $phase, $response )</code></pre>
<p>Returns the handlers that apply to the given request or response at the given processing phase.</p>
<h2 id="remove_handler">remove_handler</h2>
<pre><code>$ua-&gt;remove_handler( undef, %matchspec );
$ua-&gt;remove_handler( $phase, %matchspec );
$ua-&gt;remove_handlers(); # REMOVE ALL HANDLERS IN ALL PHASES</code></pre>
<p>Remove handlers that match the given <code>%matchspec</code>. If <code>$phase</code> is not provided, remove handlers from all phases.</p>
<p>Be careful as calling this function with <code>%matchspec</code> that is not specific enough can remove handlers not owned by you. It’s probably better to use the method instead.</p>
<p>The removed handlers are returned.</p>
<h2 id="set_my_handler">set_my_handler</h2>
<pre><code>$ua-&gt;set_my_handler( $phase, $cb, %matchspec );
$ua-&gt;set_my_handler($phase, undef); # remove handler for phase</code></pre>
</body>
</html>
