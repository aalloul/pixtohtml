<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>joseph_castanaut2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>Of course, it isn’t always convenient to drop to the terminal to run your screenplay. So there’s also a method of executing your screenplays directly. You need to add this line (the “shebang” line) at the top of your screenplay:</p>
<pre><code>#!/usr/bin/env castanaut</code></pre>
<p>Then you need to set the screenplay to be executable by running this command on it:</p>
<pre><code>chmod a+x test.screenplay</code></pre>
<p>Again, substitute “test.screenplay” for your screenplay’s filename.</p>
<p>At this point, you should be able to double-click the screenplay, or invoke it with Quicksilver, or run it any other way that floats your boat.</p>
<h3 id="stopping-the-screenplay">Stopping the screenplay</h3>
<p>If you want to abruptly terminate execution before the end of the screenplay, you just need to run the ‘castanaut’ command again – with or without any arguments.</p>
<p>Of course, that might be easier said than done, if you haven’t got full control of the mouse or keyboard at the time. One recommendation is to assign a system hot-key to invoke castanaut. I use a Quicksilver trigger for this, assigned to Shift-F1, that calls castanaut. You’ll need the full path to the command for this, which is usually /usr/bin/castanaut, but you can check it with the following command:</p>
<pre><code>which &quot;castanaut&quot;</code></pre>
<h3 id="running-interactively-with-irb">Running interactively with IRB</h3>
<p>You can now run Castanaut interactively from IRB — to test commands, try stuff out, etc:</p>
<pre><code>$ irb -r &#39;castanaut&#39;
&gt;&gt; irb Castanaut::Movie.spawn
&gt;&gt; move to(100, 100)
=&gt; &quot;Moving mouse.\n&quot;</code></pre>
<p>Note that this technique creates an IRB subsession, so you’ll have to exit out of that before exiting out of IRB. There’s heaps you can do with subsessions - read up about them online.</p>
<h3 id="what-stage-directions-can-i-make">What stage directions can I make?</h3>
<p>Out of the box, Castanaut performs mouse actions, keyboard actions, robot speech and application launches.</p>
</body>
</html>
