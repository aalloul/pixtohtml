<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>thoughtbot_sortable_table3</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h2 id="overriding-should_sort_by_attributes">Overriding should_sort_by_attributes</h2>
<p>Opinionated defaults:</p>
<ul>
<li>GET to :index</li>
<li>collection same name as controller (<span class="citation" data-cites="users">@users</span> for UsersController)</li>
<li>model name same name as controller (User for UsersController</li>
</ul>
<p>If you need to test another action (or a nested controller), pass a block:</p>
<pre><code>should_sort_by_attributes :age do |sort, order|
  get :show, :sort =&gt; sort, :order =&gt; order, :group_id =&gt; @group.id
end</code></pre>
<p>If you need to test another collection or model name, use should_sort_by.</p>
<h2 id="overriding-should_sort_by">Overriding should_sort_by</h2>
<p>The :collection, :model_name, and :action options of should_sort_by.</p>
<pre><code>context &quot;with a non-standard collection name&quot; do
  action = lambda { |sort, order| get :members, :sort =&gt; sort, :order =&gt; order }
  should_sort_by :name, { :collection =&gt; &quot;members&quot;,
                          :model_name =&gt; &quot;user&quot;,
                          :action     =&gt; action } do |user|
    user.name
  end
end</code></pre>
<h2 id="sort_order">sort_order</h2>
<p>The default sort order is descending. This applies to the first time you click on a table header. You can override this to be ascending:</p>
<pre><code>def index
  @users = User.find :all, :order =&gt; sort_order(:default =&gt; &quot;ascending&quot;)
end</code></pre>
<h2 id="credits">Credits</h2>
<p>Thank you to all .</p>
<h2 id="license">License</h2>
<p>Sortable Table is Copyright Â© 2008-2011 thoughtbot. It is free software, and may be redistributed under the terms specified in the MIT-LICENSE file.</p>
</body>
</html>
