<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>pboling_each_in_batches1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="eachinbatches">EachInBatches</h1>
<p>Better than Rails Batching. Can you batch backwards for destructive tasks? <code>each_in_batches</code> can.</p>
<table>
<thead>
<tr class="header">
<th>Project</th>
<th>EachInBatches</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>gem name</td>
<td>each_in_batches</td>
</tr>
<tr class="even">
<td>license</td>
<td>MIT</td>
</tr>
<tr class="odd">
<td>expert support</td>
<td></td>
</tr>
<tr class="even">
<td>download rank</td>
<td></td>
</tr>
<tr class="odd">
<td>version</td>
<td></td>
</tr>
<tr class="even">
<td>dependencies</td>
<td></td>
</tr>
<tr class="odd">
<td>code quality</td>
<td></td>
</tr>
<tr class="even">
<td>inline documenation</td>
<td></td>
</tr>
<tr class="odd">
<td>continuous integration</td>
<td></td>
</tr>
<tr class="even">
<td>test coverage</td>
<td></td>
</tr>
<tr class="odd">
<td>homepage</td>
<td><a href="https://github.com/pboling/each_in_batches">on Github.com</a></td>
</tr>
<tr class="even">
<td>documentation</td>
<td><a href="http://rdoc.info/github/pboling/each_in_batches/frames">on Rdoc.info</a></td>
</tr>
<tr class="odd">
<td>live chat</td>
<td></td>
</tr>
<tr class="even">
<td>Spread <sub>♡ⓛⓞⓥⓔ♡</sub></td>
<td><a href="https://coderbits.com/pboling">on Coderbits</a>, <a href="http://coderwall.com/pboling">on Coderwall</a></td>
</tr>
</tbody>
</table>
<p>(Originally BolingForBatches)</p>
<h3 id="note">NOTE:</h3>
<p>I am resurrecting this code because I still have this recurring need, and Rail’s native batching doesn’t cut mustard.<br />
It is some of my most ancient code, and it isn’t pretty, but I hope to improve it over time.</p>
<p>I often need to execute really large computations on really large data sets. I usually end up writing a rake task to do it, which calls methods in my models. But something about the process bugged me. Each time I had to re-implement my ‘batching code’ that allowed me to not chew up GB after GB of memory due to klass.find(:all, :include =&gt; [:everything_under_the_sun]). Re-implementation of the same logic over and over across many projects is not very DRY, so I got out my blow torch and lit it up. The difficulty was that the part that was different each time I batched was at the center of the code, right in the middle of the batch loop. But I didn’t let that stop me!</p>
<h2 id="why-this-plugin-is-way-better-than-standard-rails-batching">Why this plugin is way better than standard Rails batching</h2>
<ol type="1">
<li>I’ve been doing batching in Rails a lot longer than Rails has.</li>
<li>Metrics. I measure stuff.</li>
<li>I can batch from the top down (a.k.a backwards), making it possible to DELETE things in batches.</li>
</ol>
</body>
</html>
