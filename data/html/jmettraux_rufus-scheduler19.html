<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>jmettraux_rufus-scheduler19</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p># let’s unschedule all the at jobs</p>
<p>scheduler.at_jobs.each(&amp;:unschedule) ```</p>
<h3 id="schedulerjobstag-tags-x">Scheduler#jobs(:tag / :tags =&gt; x)</h3>
<p>When scheduling a job, one can specify one or more tags attached to the job. These can be used to lookup the job later on.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ruby"><code class="sourceCode ruby"><a class="sourceLine" id="cb1-1" data-line-number="1">  scheduler.in <span class="st">&#39;10d&#39;</span>, <span class="st">:tag</span> =&gt; <span class="st">&#39;main_process&#39;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    <span class="co"># ...</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">  <span class="kw">end</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">  scheduler.in <span class="st">&#39;10d&#39;</span>, <span class="st">:tags</span> =&gt; [ <span class="st">&#39;main_process&#39;</span>, <span class="st">&#39;side_dish&#39;</span> ] <span class="kw">do</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    <span class="co"># ...</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">  <span class="kw">end</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">  jobs = scheduler.jobs(<span class="st">:tag</span> =&gt; <span class="st">&#39;main_process&#39;</span>)</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">    <span class="co"># find all the jobs with the &#39;main_process&#39; tag</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"></a>
<a class="sourceLine" id="cb1-13" data-line-number="13">  jobs = scheduler.jobs(<span class="st">:tags</span> =&gt; [ <span class="st">&#39;main_process&#39;</span>, <span class="st">&#39;side_dish&#39;</span> ]</a>
<a class="sourceLine" id="cb1-14" data-line-number="14">    <span class="co"># find all the jobs with the &#39;main_process&#39; AND &#39;side_dish&#39; tags</span></a></code></pre></div>
<h3 id="schedulerrunning_jobs">Scheduler#running_jobs</h3>
<p>Returns the list of Job instance that have currently running instances.</p>
<p>Whereas other “_jobs&quot; method scan the scheduled job list, this method scans the thread list to find the job. It thus comprises jobs that are running but are not scheduled anymore (that happens for at and in jobs).</p>
<h2 id="misc-scheduler-methods">misc Scheduler methods</h2>
<h3 id="schedulerunschedulejob_or_job_id">Scheduler#unschedule(job_or_job_id)</h3>
<p>Unschedule a job given directly or by its id.</p>
<h3 id="schedulershutdown">Scheduler#shutdown</h3>
<p>Shuts down the scheduler, ceases any scheduler/triggering activity.</p>
<h3 id="schedulershutdownwait">Scheduler#shutdown(:wait)</h3>
<p>Shuts down the scheduler, waits (blocks) until all the jobs cease running.</p>
<h3 id="schedulershutdownkill">Scheduler#shutdown(:kill)</h3>
<p>Kills all the job (threads) and then shuts the scheduler down. Radical.</p>
</body>
</html>
