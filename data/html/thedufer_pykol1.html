<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>thedufer_pykol1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="pykol">pykol</h1>
<p>The purpose of pykol is to create a package that makes it extremely easy to develop code that works with .</p>
<h2 id="example">Example</h2>
<p>The following is some example code that depicts how to login to The Kingdom of Loathing, grab the contents of your inbox, access the item database, as well as use and smash items.</p>
<pre><code>from kol.Session import Session
from kol.database import ItemDatabase
from kol.request.GetMessagesRequest import GetMessagesRequest
from kol.request.PulverizeRequest import PulverizeRequest

# Login to the KoL servers.
s = Session()
s.login(&quot;myUserName&quot;, &quot;myPassword&quot;)

# Get a list of your kmails and print them out.
r = GetMessagesRequest(s)
responseData = r.doRequest()
kmails = responseData[&quot;kmails&quot;]
for kmail in kmails:
    print &quot;Received kmail from %s (#%s)&quot; % (kmail[&quot;userName&quot;], kmail[&quot;userId&quot;])
    print &quot;Text: %s&quot; % kmail[&quot;text&quot;]
    print &quot;Meat: %s&quot; % kmail[&quot;meat&quot;]
    for item in kmail[&quot;items&quot;]:
        print &quot;Item: %s (%s)&quot; % (item[&quot;name&quot;], item[&quot;quantity&quot;])

# Use an old coin purse.
item = ItemDatabase.getItemFromName(&quot;old coin purse&quot;)
r = UseItemRequest(s, item[&quot;id&quot;])
r.doRequest()

# Smash a titanium assault umbrella and print out the results.
item = ItemDatabase.getItemFromName(&quot;titanium assault umbrella&quot;)
r = PulverizeRequest(s, item[&quot;id&quot;])
responseData = r.doRequest()
smashResults = responseData[&quot;results&quot;]
print &quot;After smashing the item you have received the following:&quot;
for result in smashResults:
    print &quot;%s (%s)&quot; % (result[&quot;name&quot;], result[&quot;quantity&quot;])

# Now we logout.
s.logout()</code></pre>
</body>
</html>
