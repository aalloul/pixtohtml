<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>copiousfreetime_launchy2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>save_and_open_page</code></pre>
<p>When inserted into your code at the place where you would like to open your program, and when rspec is run, Capybara displays this message:</p>
<pre><code>Page saved to /home/code/my_app_name/tmp/capybara/capybara-current-date-and-time.html with save_and_open_page.
Please install the launchy gem to open page automatically.</code></pre>
<p>With Launchy installed, when rspec is run again, it will launch an unstyled instance of the specific page. It can be especially useful when debugging errors in integration tests. For example:</p>
<pre><code>context &quot;signin&quot; do
  it &quot;lets a user sign in&quot; do
    visit root_path
    click_link signin_path
    save_and_open_page
    page.should have_content &quot;Enter your login information&quot;
  end
end</code></pre>
<h3 id="public-api">Public API</h3>
<p>In the vein of , this is the sole supported public API.</p>
<pre><code>Launchy.open( uri, options = {} ) { |exception| }</code></pre>
<p>At the moment, the only available options are:</p>
<pre><code>:debug        Turn on debugging output
:application  Explicitly state what application class is going to be used
:host_os      Explicitly state what host operating system to pretend to be
:ruby_engine  Explicitly state what ruby engine to pretend to be under
:dry_run      Do nothing and print the command that would be executed on $stdout</code></pre>
<p>If <code>Launchy.open</code> is invoked with a block, then no exception will be thrown, and the block will be called with the parameters passed to <code>#open</code> along with the exception that was raised.</p>
<h3 id="an-example-of-using-the-public-api">An example of using the public API:</h3>
<pre><code>Launchy.open( &quot;http://www.ruby-lang.org&quot; )</code></pre>
<h3 id="an-example-of-using-the-public-api-and-using-the-error-block">An example of using the public API and using the error block:</h3>
<pre><code>uri = &quot;http://www.ruby-lang.org&quot;
Launchy.open( uri ) do |exception|
  puts &quot;Attempted to open #{uri} and failed because #{exception}&quot;
end</code></pre>
<h2 id="upgrading-from-versions-before-2.0.0">UPGRADING from versions before 2.0.0</h2>
</body>
</html>
