<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>osteele_mop-js2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>MOP.Class(klass).method(methodName).time(guardFn)</code></pre>
<p>Replaces <code>object.methodName</code> by a method that calls the underlying function, and prints to the console the name of the method and the time it took to execute.</p>
<pre><code>MOP.Object(object).method(methodName).trace(guardFn)
MOP.Class(klass).method(methodName).trace(guardFn)</code></pre>
<p>Replaces <code>object.methodName</code> by a method that calls the underlying function, and prints to the console the name of the method and its return value.</p>
<h2 id="temporary-method-replacement">Temporary Method Replacement</h2>
<pre><code>new MOP.MethodReplacer(object, methods)</code></pre>
<p>When a new MethodReplacer is constructed, it replaces each method on <code>object</code> by the method in <code>methods</code> with the same key value, if such a method exists. A MethodReplacer has a single method, <code>restore</code>, which restores each method to its pre-replacement value.</p>
<pre><code>MOP.withMethodOverridesCallback(object, methods, k)</code></pre>
<p>Calls <code>fn</code> on <code>object</code>, within a dynamic scope within which the methods in <code>methods</code> have temporarily replaced the like-named methods on <code>object</code>. The scope is terminated by the argument to the call to <code>k</code>; this argument should be treated as a continuation, and restores the methods.</p>
<h2 id="method-call-serialization">Method Call Serialization</h2>
<pre><code>new MOP.QueueBall(object, methodNames)</code></pre>
<p>When a new QueueBall is constructed, it replaces each method named by <code>methodNames</code> with a method that enqueues the method call (the name of the method and its arguments). A QueueBall has a single method, <code>replayMethodCalls</code>, which plays back the method calls and restores the methods.</p>
<pre><code>MOP.withDeferredMethods(object, methodNames, k)</code></pre>
<p>Calls <code>fn</code> on <code>object</code>, within a dynamic scope within which the methods in <code>methodNames</code> have been enqueued. The scope is terminated by the argument to the call to <code>k</code>; this argument should be treated as a continuation, and ends the queue, replaying the methods.</p>
</body>
</html>
