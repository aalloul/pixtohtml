<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>vegantech_sims2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre><code>source ~/.rvm/scripts/rvm
bundle</code></pre>
<p>Copy the <code>config/database.yml.sqlite3</code> to <code>config/database.yml</code></p>
<pre><code>cp config/database.yml.mysql config/database.yml    </code></pre>
<p>Be sure to set the domain name of the SIMS application in the <code>config/initializers/host_info.rb</code> file to send the proper links in emails generated by the application.</p>
<pre><code>bundle exec rake db:setup
bundle exec rails runner CreateTrainingDistrict.generate_one
bundle exec rails s</code></pre>
<p>Then point your browser to <code>http://localhost:3000</code> to see that SIMS is up and running.</p>
<p>NOTE: When running locally it will be required to connect through <code>http://lvh.me:3000</code> for proper cookie authentication</p>
<p><a name="production"></a> ## Production Deployment ## Once you have it setup for development and have Apache setup:</p>
<pre><code>sudo gem install passenger
sudo passenger-install-apache2-module</code></pre>
<p>Modify the apache config files following the onscreen directions.</p>
<p>From your development directory: Adjust your mail and server settings in the config/deploy/other.rb</p>
<pre><code>sudo gem install capistrano capistrano-ext
cap other deploy:cold</code></pre>
<p>NOTE: You might need to setup the database.yml on the server</p>
<p>If the deploy cold fails, run:</p>
<pre><code>RAILS_ENV=production bundle exec rake db:migrate db:fixtures:load
bundle execscript/runner -e production CreateTrainingDistrict.generate_one
cap other deploy:restart</code></pre>
<p><a name="deploying"></a> ## Deploying ##</p>
<p>We’re using the multi-stage deployment functionality of the excellent <code>capistrano-ext</code> gem to allow you to separately deploy to your staging and production server. If you don’t already have this gem installed, please do so by running <code>sudo gem install capistrano-ext</code>.</p>
</body>
</html>
