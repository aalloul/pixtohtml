<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>mbleigh_seed-fu2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h3 id="rails-2.3">Rails 2.3</h3>
<p>The current version is not backwards compatible with Rails 2.3. Please use <code>gem 'seed-fu', '~&gt; 1.2.0'</code>.</p>
<h2 id="constraints">Constraints</h2>
<p>Constraints are used to identify seeds, so that they can be updated if necessary. For example:</p>
<pre><code>Point.seed(:x, :y) do |s|
  s.x = 4
  s.y = 7
  s.name = &quot;Home&quot;
end</code></pre>
<p>The first time this seed is loaded, a <code>Point</code> record will be created. Now suppose the name is changed:</p>
<pre><code>Point.seed(:x, :y) do |s|
  s.x = 4
  s.y = 7
  s.name = &quot;Work&quot;
end</code></pre>
<p>When this is run, Seed Fu will look for a <code>Point</code> based on the <code>:x</code> and <code>:y</code> constraints provided. It will see that a matching <code>Point</code> already exists and so update its attributes rather than create a new record.</p>
<p>If you do not want seeds to be updated after they have been created, use <code>seed_once</code>:</p>
<pre><code>Point.seed_once(:x, :y) do |s|
  s.x = 4
  s.y = 7
  s.name = &quot;Home&quot;
end</code></pre>
<p>The default constraint just checks the <code>id</code> of the record.</p>
<h2 id="where-to-put-seed-files">Where to put seed files</h2>
<p>By default, seed files are looked for in the following locations:</p>
<ul>
<li><code>#{Rails.root}/db/fixtures</code> and <code>#{Rails.root}/db/fixtures/#{Rails.env}</code> in a Rails app</li>
<li><code>./db/fixtures</code> when loaded without Rails</li>
</ul>
<p>You can change these defaults by modifying the <code>SeedFu.fixture_paths</code> array.</p>
<p>Seed files can be named whatever you like, and are loaded in alphabetical order.</p>
<h2 id="terser-syntax">Terser syntax</h2>
</body>
</html>
