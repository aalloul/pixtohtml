<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>RISCfuture_autumn22</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>The included Rakefile contains a number of useful tasks to help you develop and deploy your leaves. You can always get a list of tasks by typing <code>rake --tasks</code>. The various commands you can run are:</p>
<p>Application tasks:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>rake app:start</code></td>
<td style="text-align: left;">Starts the Autumn daemon in the background.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>rake app:stop</code></td>
<td style="text-align: left;">Stops the Autumn daemon.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>rake app:restart</code></td>
<td style="text-align: left;">Reloads the Autumn daemons.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>rake app:run</code></td>
<td style="text-align: left;">Starts the Autumn daemon in the foreground.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>rake app:zap</code></td>
<td style="text-align: left;">Forces the daemon to a stopped state. Use this command if your daemon is not running but <code>script/daemon</code> thinks it still is.</td>
</tr>
</tbody>
</table>
<p>Database tasks:</p>
<table>
<colgroup>
<col style="width: 36%" />
<col style="width: 63%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>DB=[database config name] rake db:migrate</code></td>
<td style="text-align: left;">Creates all the tables for a leaf, as specified by the leaf’s model objects.</td>
</tr>
</tbody>
</table>
<p>Documentation tasks:</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>rake doc:api</code></td>
<td style="text-align: left;">Generates HTML documentation for Autumn, found in the <code>doc/api</code> directory.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>rake doc:leaves</code></td>
<td style="text-align: left;">Generates HTML documentation for your leaves, found in the <code>doc/leaves</code> directory.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>rake doc:clear</code></td>
<td style="text-align: left;">Removes all HTML documentation.</td>
</tr>
</tbody>
</table>
<p>Logging tasks:</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>rake log:clear</code></td>
<td style="text-align: left;">Clears the log files for all seasons.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>rake log:errors</code></td>
<td style="text-align: left;">Prints a list of error-level log messages for the current season, and uncaught exceptions in all seasons.</td>
</tr>
</tbody>
</table>
<h3 id="custom-leaf-tasks">Custom leaf tasks</h3>
<p>You can define your own leaf-specific tasks in the tasks subdirectory within your leaf’s directory. Any <code>.rake</code> files there will be loaded by rake. The tasks will be added within a task-group named after your leaf. Use Scorekeeper as an example: If you type <code>rake --tasks</code>, you’ll see one other task, <code>rake scorekeeper:scores</code>. The “scores” task is defined in the <code>leaves/scorekeeper/tasks/stats.rake</code> file, and placed in the “scorekeeper” task group by Autumn.</p>
<p>Also, if you open that file up, you’ll notice that you have to refer to your leaf’s classes by their <em>full</em> names, including the leaf module. (See “Your Leaf’s Module” if you’re confused.)</p>
</body>
</html>
