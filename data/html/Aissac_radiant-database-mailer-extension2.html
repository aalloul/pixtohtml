<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Aissac_radiant-database-mailer-extension2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p>the <code>will_paginate</code> gem/plugin:</p>
<pre><code>git clone git://github.com/mislav/will_paginate.git vendor/plugins/will_paginate</code></pre>
<p>or</p>
<pre><code>sudo gem install will_paginate</code></pre>
<p>and the <code>paperclip</code> gem/plugin</p>
<pre><code>git clone git://github.com/thoughtbot/paperclip.git vendor/plugins/paperclip</code></pre>
<p>or</p>
<pre><code>sudo gem install paperclip</code></pre>
<p>Next edit <code>config/environment.rb</code> and add desired fields to be recorded:</p>
<pre><code>DATABASE_MAILER_COLUMNS = {
  :name =&gt; :string,
  :message =&gt; :text,
  :email =&gt; :string
}</code></pre>
<p>And finally add the [Database Mailer Extension][rdme]:</p>
<pre><code>git clone git://github.com/Aissac/radiant-database-mailer-extension.git vendor/extensions/database_mailer</code></pre>
<p>Migrate and update the extension:</p>
<pre><code>rake radiant:extensions:database_mailer:migrate
rake radiant:extensions:database_mailer:update</code></pre>
<h2 id="configuration">Configuration</h2>
<p>Adding fields to the <code>DATABASE_MAILER_COLUMNS</code> hash and re-running <code>rake radiant:extensions:database_mailer:migrate</code> nondestructively adds fields to be saved. Fields removed from the hash are not deleted.</p>
<p>Look at the Mailer Extension README for information on how to configure mail delivery.</p>
<p>If you set <code>save_to_database</code> to false in the Mailer config, saving to the database is skipped and just mail delivery takes place. Example (in the <code>mailer</code> page part):</p>
<pre><code>subject: From the website of Whatever
from: noreply@example.com
redirect_to: /contact/thank-you
save_to_database: false
recipients:
  - one@one.com
  - two@two.com</code></pre>
</body>
</html>
