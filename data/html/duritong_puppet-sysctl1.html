<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>duritong_puppet-sysctl1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="requirements">Requirements</h1>
<h2 id="overview">Overview</h2>
<p>This modules allows to configure sysctl.</p>
<h2 id="usage">Usage</h2>
<pre><code>node &quot;mynode&quot; inherits ... {
  sysctl::value { &quot;vm.nr_hugepages&quot;: value =&gt; &quot;1583&quot;}
}</code></pre>
<p>When setting a key that contains multiple values, use a tab to separate the values:</p>
<pre><code>node &quot;mynode&quot; inherits ... {
  sysctl::value { &#39;net.ipv4.tcp_rmem&#39;:
      value =&gt; &quot;4096\t131072\t131072&quot;,
  }
}</code></pre>
<p>If another config file then /etc/sysctl.conf (default) is required, use target for this:</p>
<pre><code>node &quot;mynode&quot; inherits ... {
  sysctl::value { &#39;net.ipv4.tcp_rmem&#39;:
      value =&gt; &quot;4096\t131072\t131072&quot;,
      target =&gt; &#39;/etc/sysctl.d/mysysctl.conf&#39;,
  }
}</code></pre>
<p>To avoid duplication the sysctl::value calls multiple settings can be managed like this:</p>
<pre><code>$my_sysctl_settings = {
  &quot;net.ipv4.ip_forward&quot;          =&gt; { value =&gt; 1 },
  &quot;net.ipv6.conf.all.forwarding&quot; =&gt; { value =&gt; 1 },
}

# Specify defaults for all the sysctl::value to be created (
$my_sysctl_defaults = {
  require =&gt; Package[&#39;aa&#39;]
}

create_resources(sysctl::value,$my_sysctl_settings,$my_sysctl_defaults)</code></pre>
</body>
</html>
