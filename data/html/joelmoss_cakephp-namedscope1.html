<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>joelmoss_cakephp-namedscope1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h2 id="namedscope-behavior-for-cakephp">NamedScope Behavior for CakePHP</h2>
<p>This NamedScope behavior for CakePHP allows you to define named scopes for a model, and then apply them to any find call. It will automagically create a model method, and a method for use with the _findMethods property of the model.</p>
<p>NamedScope is now packaged as a plugin, so as to allow easier management - particularly with Git submodules - and to support tests.</p>
<p>Get it from</p>
<p>Borrowed from an original idea found in Ruby on Rails, and a first attempted for Cake by Michał Szajbe</p>
<h3 id="install">Install:</h3>
<p>Just create a ‘named_scope’ directory in your app/plugins directory, and drop these files and directories into it.</p>
<p>If your application is managed via Git, you can use NamedScope as a submodule. Just cd into your app directory, and run:</p>
<pre><code>git submodule add git://github.com/joelmoss/cakephp-namedscope.git plugins/named_scope</code></pre>
<p>Once the submodule is added we need to register this submodule using <code>init</code>:</p>
<pre><code>git submodule init</code></pre>
<p>From now on we can update all the submodules using the following command:</p>
<pre><code>git submodule update</code></pre>
<h3 id="example">Example:</h3>
<p>I have a User model and want to return only those which are active. So I define this in my model:</p>
<pre><code>var $actsAs = array(
    &#39;NamedScope.NamedScope&#39; =&gt; array(
        &#39;active&#39; =&gt; array(
            &#39;conditions&#39; =&gt; array(
                &#39;User.is_active&#39; =&gt; true
            )
        )
    )
);</code></pre>
<p>Then call this in my User controller:</p>
<pre><code>$active_users = $this-&gt;User-&gt;active(&#39;all&#39;);</code></pre>
<p>or this:</p>
</body>
</html>
