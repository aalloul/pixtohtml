<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>miyagawa_web-scraper4</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="nested-scrapers">NESTED SCRAPERS</h1>
<p>Scrapers can be nested thus allowing to scrape already captured data.</p>
<pre><code># &lt;ul&gt;
# &lt;li class=&quot;foo&quot;&gt;&lt;a href=&quot;foo1&quot;&gt;bar1&lt;/a&gt;&lt;/li&gt;
# &lt;li class=&quot;bar&quot;&gt;&lt;a href=&quot;foo2&quot;&gt;bar2&lt;/a&gt;&lt;/li&gt;
# &lt;li class=&quot;foo&quot;&gt;&lt;a href=&quot;foo3&quot;&gt;bar3&lt;/a&gt;&lt;/li&gt;
# &lt;/ul&gt;
# friends =&gt; [ {href =&gt; &#39;foo1&#39;}, {href =&gt; &#39;foo2&#39;} ];
process &#39;li&#39;, &#39;friends[]&#39; =&gt; scraper {
  process &#39;a&#39;, href =&gt; &#39;@href&#39;,
};</code></pre>
<h1 id="filters">FILTERS</h1>
<p>Filters are applied to the result after processing. They can be declared as anonymous subroutines or as class names.</p>
<pre><code>process $exp, $key =&gt; [ &#39;TEXT&#39;, sub { s/foo/bar/ } ];
process $exp, $key =&gt; [ &#39;TEXT&#39;, &#39;Something&#39; ];
process $exp, $key =&gt; [ &#39;TEXT&#39;, &#39;+MyApp::Filter::Foo&#39; ];</code></pre>
<p>Filters can be stacked</p>
<pre><code>process $exp, $key =&gt; [ &#39;@href&#39;, &#39;Foo&#39;, &#39;+MyApp::Filter::Bar&#39;, \&amp;baz ];</code></pre>
<p>More about filters you can find in documentation.</p>
<h1 id="xml-backends">XML backends</h1>
<p>By default is used, this can be replaces by a module.</p>
<pre><code>use Web::Scraper::LibXML;

# same as Web::Scraper
my $scraper = scraper { ... };</code></pre>
<h1 id="author">AUTHOR</h1>
<p>Tatsuhiko Miyagawa <a href="mailto:miyagawa@bulknews.net">miyagawa@bulknews.net</a></p>
<h1 id="license">LICENSE</h1>
<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
<h1 id="see-also">SEE ALSO</h1>
</body>
</html>
