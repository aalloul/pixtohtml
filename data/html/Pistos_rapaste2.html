<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Pistos_rapaste2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<ul>
<li>:title Title shown on every page</li>
<li>:admins This might be replaced at a later point, but right now it’s a simple Hash of username and password for each person that wants to help you fight spam.</li>
</ul>
<p>The settings for <code>DB</code> may be very different for you, it’s file-based sqlite by default, some possibilities are:</p>
<pre><code>DB = Sequel.sqlite(&#39;my_blog.db&#39;)
DB = Sequel.connect(&#39;postgres://user:password@localhost/my_db&#39;)
DB = Sequel.mysql(&#39;my_db&#39;, :user =&gt; &#39;user&#39;, :password =&gt; &#39;password&#39;, :host =&gt; &#39;localhost&#39;)
DB = Sequel.ado(&#39;mydb&#39;)</code></pre>
<p>{:ruby}</p>
<h2 id="usage">Usage</h2>
<p>You can immediately start pasting after a successful start, please tell us if you don’t find the user-interface intuitive enough or feel we’re missing something.</p>
<p>Most likely your RaPaste will start to attract some crazy spammers, but don’t worry, we have you covered. In order to keep them from messing up your listing and search and filling your database we have added adaptable bayesian filtering. The administration interface is located at <code>/spam</code>, you will be presented with a list of unreviewed pastes and suggestions on how to handle them.</p>
<p>The other form of protection is rather simple, every paste is only considered for visibility once it was accessed from another IP, so once someone pasted and passes on the link, it will most likely be openend from another IP and so made visible for everybody. We thought this would be a reasonable first step to avoid massive flooding by spammers, but doing manual filtering is still necessary sometimes.</p>
<p>Every time a new paste is created and viewed from another IP, a bayes rating is generated based on the contents of the paste. If it is classified as spam it won’t show up in listings or searching despite being marked as archived until you assert that this paste is indeed ham and add it to the filter.</p>
<p>Personally I think the basic implementation is sane, but currently the id of pastes are still too guessable.</p>
<h2 id="about-the-bayesian-filter">About the Bayesian filter</h2>
<p>I wrote the filter after reading articles from Paul Graham and trying the related ruby library from Lucas Carlson called <code>classifier</code>. Classifier proved to be a bothersome experience, and caused me some problems and issuing warnings on startup. But I took the core algorithm, tuned it a bit and for now the filter resides in <code>vendor/bayes.rb</code>.</p>
</body>
</html>
