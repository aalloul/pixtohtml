<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>mojombo_erlectricity1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="erlectricity">Erlectricity</h1>
<p>http://github.com/mojombo/erlectricity</p>
<p>By Scott Fleckenstein, Tom Preston-Werner</p>
<p>Development Status: Production/Stable</p>
<h2 id="description">Description</h2>
<p>Erlectricity allows a Ruby program to receive and respond to Erlang messages sent over the Erlang binary protocol.</p>
<h2 id="install">Install</h2>
<p>$ gem install erlectricity</p>
<p>-or-</p>
<p>$ gem install mojombo-erlectricity -s http://gems.github.com</p>
<h2 id="the-simplest-example">The Simplest Example</h2>
<h3 id="ruby-side-echo.rb">Ruby side (echo.rb)</h3>
<pre><code>require &#39;rubygems&#39;
require &#39;erlectricity&#39;

receive do |f|
  f.when([:echo, String]) do |text|
    f.send!([:result, &quot;You said: #{text}&quot;])
    f.receive_loop
  end
end</code></pre>
<h3 id="erlang-side-echo.erl">Erlang side (echo.erl)</h3>
<pre><code>-module(echo).
-export([test/0]).

test() -&gt;
  Cmd = &quot;ruby echo.rb&quot;,
  Port = open_port({spawn, Cmd}, [{packet, 4}, nouse_stdio, exit_status, binary]),</code></pre>
</body>
</html>
