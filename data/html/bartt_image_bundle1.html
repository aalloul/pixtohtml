<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>bartt_image_bundle1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="imagebundle">ImageBundle</h1>
<p>ImageBundleHelper adds view helper <strong>image_bundle</strong>. A helper which bundles individual local images into a single CSS sprite thereby reducing the number of HTTP requests needed to render the page.</p>
<p>found that the number of HTTP requests has the biggest impact on page rendering speed. You can inspect your site’s performance with the excellent Firefox add-on .</p>
<h2 id="usage">Usage</h2>
<p>Use ImageBundle to automatically replace individual local images into CSS sprites.</p>
<h2 id="demo">Demo</h2>
<p>A demo of ImageBundle is available at <a href="http://thecodemill.biz/image_bundle/" class="uri">http://thecodemill.biz/image_bundle/</a>.</p>
<h2 id="note-on-image_tag-helper">Note on <code>image_tag</code> helper</h2>
<p>Rails’ <code>image_tag</code> helper adds a query parameter to the image URL to ‘bust caches’. It ads either the <code>RAILS_ASSET_ID</code> environment variable or the image’s modification time. This is the <em>wrong</em> thing to do. Caches should be managed through the use of HTTP headers such as Cache-Control, Last-Modified, Expires and of course the HTTP response code. Adding the modification time is the same as using as using ETags in apache or IIS, see <a href="http://developer.yahoo.com/performance/rules.html#etags" class="uri">http://developer.yahoo.com/performance/rules.html#etags</a> for an explanation why it is better to avoid using ETags in favor of proper Expires headers.</p>
<p>This plugin doesn’t accept image URLS that include query parameters as they are either dynamically generated and shouldn’t be part of a sprite or they promote a bad practice.</p>
<p>If you like to use the <code>image_tag</code> helper I recommend you a) configure the webserver of you static content to return proper headers and b) to overwrite <code>ActionView::Helpers::AssetTagsHelper#rewrite_asset_path!</code> like so:</p>
<p>module ActionView module Helpers module AssetTagHelper def rewrite_asset_path!(source) end end end end</p>
</body>
</html>
