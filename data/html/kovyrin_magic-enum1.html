<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>kovyrin_magic-enum1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="magicenum">MagicEnum</h1>
<p>MagicEnum is a simple ActiveRecord gem that makes it easier to maintain ENUM-like attributes in your models.</p>
<p>Examples:</p>
<pre><code>STATUSES = {
  :draft     =&gt; 0,
  :published =&gt; 1,
  :approved  =&gt; 2,
}
define_enum :status</code></pre>
<h2 id="please-note-breaking-changes-in-1.0.0">Please note: breaking changes in 1.0.0</h2>
<p>Before version 1.0.0, the hash with ENUM values was camel-cased. We decided to change it to more rubyish upper-cased constant names. If you’re upgrading from pre-1.0.0, please change you constants accordingly. Examples:</p>
<pre><code>Statuses =&gt; STATUSES
SimpleStatuses =&gt; SIMPLE_STATUSES</code></pre>
<p>Name of inverted hash was changed as well:</p>
<pre><code>StatusesInverted =&gt; STATUSES_INVERTED
SimpleStatusesInverted =&gt; SIMPLE_STATUSES_INVERTED</code></pre>
<h2 id="installation">Installation</h2>
<p>Add the “magic_enum” gem to your <code>Gemfile</code>.</p>
<pre><code>gem &quot;magic_enum&quot;</code></pre>
<p>And run <code>bundle install</code> command.</p>
<h2 id="how-to-use">How to Use</h2>
<p>Before using <code>define_enum</code>, you should define constant with ENUM options. Constant name would be pluralized enum attribute name (e.g. <code>SIMPLE_STATUSES</code> <code>simple_status</code> enum). Additional constant named like <code>YOUR_ENUM_INVERTED</code> would be created automatically and would contain inverted hash.</p>
<p><strong>Please note</strong>: <code>nil</code> and <code>0</code> are not the same values!</p>
<p>You could specify additional options:</p>
<ul>
<li><code>:default</code> — value which will be used when current state of ENUM attribute is invalid or wrong value received. If it has not been specified, min value of the ENUM would be used. Could be specified as a symbol;</li>
<li><code>:raise_on_invalid</code> — if <code>true</code> an exception would be raised on invalid enum value received. If it is <code>false</code>, default value would be used instead of wrong one;</li>
<li><code>:simple_accessors</code> — if <code>true</code>, additional methods for each ENUM value would be defined in form <code>value?</code>. Methods returns <code>true</code> when ENUM attribute has corresponding value;</li>
</ul>
</body>
</html>
