<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>postmodern_dm-is-predefined1</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="dm-is-predefined">dm-is-predefined</h1>
<ul>
<li></li>
<li></li>
<li></li>
<li><a href="mailto:postmodern.mod3%20at%20gmail.com">Email</a></li>
</ul>
<h2 id="description">Description</h2>
<p>A DataMapper plugin for adding predefined resources to Models.</p>
<h2 id="example">Example</h2>
<pre><code>require &#39;dm-core&#39;
require &#39;dm-is-predefined&#39;

class Licence

  include DataMapper::Resource

  is :predefined

  # Name of the Licence
  property :name, String

  # URL to the licence
  property :url, String

  predefine :gpl2,
            :name =&gt; &#39;GPL-2&#39;,
            :url =&gt; &#39;http://www.gnu.org/copyleft/gpl.html&#39;

  predefine :mit, :name =&gt; &#39;MIT&#39;

end


License.predefined
# =&gt; [:gpl2, :mit]

License.predefined?(:gpl2)
# =&gt; true

Licence.gpl2
# =&gt; #&lt;Licence: id: 1, name: &quot;GPL-2&quot;, url: &quot;http://www.gnu.org/copyleft/gpl.html&quot;&gt;

Licence.predefined_resource(:mit)
# =&gt; #&lt;Licence: id: 2, name: &quot;MIT&quot;&gt;

License.first_or_predefined(:name =&gt; &#39;GPL-2&#39;)</code></pre>
</body>
</html>
